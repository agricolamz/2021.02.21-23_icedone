<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Работа со строками | Зимняя школа АйсДан 2021: скрейпинг и анализ текстовых данных</title>
  <meta name="description" content="2 Работа со строками | Зимняя школа АйсДан 2021: скрейпинг и анализ текстовых данных" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Работа со строками | Зимняя школа АйсДан 2021: скрейпинг и анализ текстовых данных" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Работа со строками | Зимняя школа АйсДан 2021: скрейпинг и анализ текстовых данных" />
  
  
  

<meta name="author" content="М. Серветник, А. Котликова, Ю. Мартысенко, Г. Мороз, Ф. Управителев" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="strings2.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="libs/pagedtable-1.1/js/pagedtable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">2021 АйсДан</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> О курсе</a></li>
<li class="chapter" data-level="2" data-path="работа-со-строками.html"><a href="работа-со-строками.html"><i class="fa fa-check"></i><b>2</b> Работа со строками</a>
<ul>
<li class="chapter" data-level="2.1" data-path="работа-со-строками.html"><a href="работа-со-строками.html#запись-строк"><i class="fa fa-check"></i><b>2.1</b> Запись строк</a></li>
<li class="chapter" data-level="2.2" data-path="работа-со-строками.html"><a href="работа-со-строками.html#количество-символов"><i class="fa fa-check"></i><b>2.2</b> Количество символов</a></li>
<li class="chapter" data-level="2.3" data-path="работа-со-строками.html"><a href="работа-со-строками.html#сортировка"><i class="fa fa-check"></i><b>2.3</b> Сортировка</a></li>
<li class="chapter" data-level="2.4" data-path="работа-со-строками.html"><a href="работа-со-строками.html#конкатенация"><i class="fa fa-check"></i><b>2.4</b> Конкатенация</a></li>
<li class="chapter" data-level="2.5" data-path="работа-со-строками.html"><a href="работа-со-строками.html#работа-с-подстрокой"><i class="fa fa-check"></i><b>2.5</b> Работа с подстрокой</a></li>
<li class="chapter" data-level="2.6" data-path="работа-со-строками.html"><a href="работа-со-строками.html#изменение-строки"><i class="fa fa-check"></i><b>2.6</b> Изменение строки</a></li>
<li class="chapter" data-level="2.7" data-path="работа-со-строками.html"><a href="работа-со-строками.html#пакеты-для-работы-с-текстовыми-данными"><i class="fa fa-check"></i><b>2.7</b> Пакеты для работы с текстовыми данными</a></li>
<li class="chapter" data-level="2.8" data-path="работа-со-строками.html"><a href="работа-со-строками.html#задания"><i class="fa fa-check"></i><b>2.8</b> Задания</a></li>
<li class="chapter" data-level="2.9" data-path="работа-со-строками.html"><a href="работа-со-строками.html#sources"><i class="fa fa-check"></i><b>2.9</b> Sources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="strings2.html"><a href="strings2.html"><i class="fa fa-check"></i><b>3</b> Регулярные выражения</a>
<ul>
<li class="chapter" data-level="3.1" data-path="strings2.html"><a href="strings2.html#strings-regexp"><i class="fa fa-check"></i><b>3.1</b> Регулярные выражения</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="strings2.html"><a href="strings2.html#strings-patterns"><i class="fa fa-check"></i><b>3.1.1</b> Паттерны</a></li>
<li class="chapter" data-level="3.1.2" data-path="strings2.html"><a href="strings2.html#strings-symbols"><i class="fa fa-check"></i><b>3.1.2</b> Символы</a></li>
<li class="chapter" data-level="3.1.3" data-path="strings2.html"><a href="strings2.html#strings-classes"><i class="fa fa-check"></i><b>3.1.3</b> Классы символов</a></li>
<li class="chapter" data-level="3.1.4" data-path="strings2.html"><a href="strings2.html#strings-metacharacters"><i class="fa fa-check"></i><b>3.1.4</b> Метасимволы</a></li>
<li class="chapter" data-level="3.1.5" data-path="strings2.html"><a href="strings2.html#strings-logic"><i class="fa fa-check"></i><b>3.1.5</b> Логические операции</a></li>
<li class="chapter" data-level="3.1.6" data-path="strings2.html"><a href="strings2.html#strings-quantificators"><i class="fa fa-check"></i><b>3.1.6</b> Квантификаторы</a></li>
<li class="chapter" data-level="3.1.7" data-path="strings2.html"><a href="strings2.html#strings-wildecards"><i class="fa fa-check"></i><b>3.1.7</b> Подстановочные знаки</a></li>
<li class="chapter" data-level="3.1.8" data-path="strings2.html"><a href="strings2.html#strings-anchors"><i class="fa fa-check"></i><b>3.1.8</b> Якори</a></li>
<li class="chapter" data-level="3.1.9" data-path="strings2.html"><a href="strings2.html#strings-groups"><i class="fa fa-check"></i><b>3.1.9</b> Группы</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="сбор-данных-из-интернета-rvest.html"><a href="сбор-данных-из-интернета-rvest.html"><i class="fa fa-check"></i><b>4</b> Сбор данных из интернета: <code>rvest</code></a>
<ul>
<li class="chapter" data-level="4.1" data-path="сбор-данных-из-интернета-rvest.html"><a href="сбор-данных-из-интернета-rvest.html#введение"><i class="fa fa-check"></i><b>4.1</b> Введение</a></li>
<li class="chapter" data-level="4.2" data-path="сбор-данных-из-интернета-rvest.html"><a href="сбор-данных-из-интернета-rvest.html#работа-с-пакетом-rvest"><i class="fa fa-check"></i><b>4.2</b> Работа с пакетом <code>rvest</code></a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="сбор-данных-из-интернета-rvest.html"><a href="сбор-данных-из-интернета-rvest.html#простой-случай"><i class="fa fa-check"></i><b>4.2.1</b> Простой случай</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="сбор-данных-из-интернета-rvest.html"><a href="сбор-данных-из-интернета-rvest.html#использование-атрибута-class"><i class="fa fa-check"></i><b>4.3</b> Использование атрибута <code>class</code></a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="сбор-данных-из-интернета-rvest.html"><a href="сбор-данных-из-интернета-rvest.html#чтение-таблиц"><i class="fa fa-check"></i><b>4.3.1</b> Чтение таблиц</a></li>
<li class="chapter" data-level="4.3.2" data-path="сбор-данных-из-интернета-rvest.html"><a href="сбор-данных-из-интернета-rvest.html#некоторые-советы"><i class="fa fa-check"></i><b>4.3.2</b> Некоторые советы</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html"><a href="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html"><i class="fa fa-check"></i><b>5</b> Работа с текстами: <code>gutenbergr</code>, <code>tidytext</code>, <code>stopwords</code>, <code>udpipe</code></a>
<ul>
<li class="chapter" data-level="5.1" data-path="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html"><a href="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html#загрузка-текста-в-r"><i class="fa fa-check"></i><b>5.1</b> Загрузка текста в R</a></li>
<li class="chapter" data-level="5.2" data-path="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html"><a href="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html#gutenbergr"><i class="fa fa-check"></i><b>5.2</b> <code>gutenbergr</code></a></li>
<li class="chapter" data-level="5.3" data-path="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html"><a href="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html#tidytext-и-stopwords"><i class="fa fa-check"></i><b>5.3</b> <code>tidytext</code> и <code>stopwords</code></a></li>
<li class="chapter" data-level="5.4" data-path="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html"><a href="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html#визуализация-биграмм-с-igraph-и-ggraph"><i class="fa fa-check"></i><b>5.4</b> Визуализация биграмм с <code>igraph</code> и <code>ggraph</code></a></li>
<li class="chapter" data-level="5.5" data-path="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html"><a href="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html#пакет-stopwords"><i class="fa fa-check"></i><b>5.5</b> Пакет <code>stopwords</code></a></li>
<li class="chapter" data-level="5.6" data-path="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html"><a href="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html#пакет-udpipe"><i class="fa fa-check"></i><b>5.6</b> Пакет <code>udpipe</code></a></li>
<li class="chapter" data-level="5.7" data-path="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html"><a href="работа-с-текстами-gutenbergr-tidytext-stopwords-udpipe.html#задания-1"><i class="fa fa-check"></i><b>5.7</b> Задания</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="анализ-текста.html"><a href="анализ-текста.html"><i class="fa fa-check"></i><b>6</b> Анализ текста</a>
<ul>
<li class="chapter" data-level="6.1" data-path="анализ-текста.html"><a href="анализ-текста.html#данные"><i class="fa fa-check"></i><b>6.1</b> Данные</a></li>
<li class="chapter" data-level="6.2" data-path="анализ-текста.html"><a href="анализ-текста.html#tf-idf"><i class="fa fa-check"></i><b>6.2</b> tf-idf</a></li>
<li class="chapter" data-level="6.3" data-path="анализ-текста.html"><a href="анализ-текста.html#предиктивный-ввод-текста"><i class="fa fa-check"></i><b>6.3</b> Предиктивный ввод текста</a></li>
<li class="chapter" data-level="6.4" data-path="анализ-текста.html"><a href="анализ-текста.html#анализ-тональности"><i class="fa fa-check"></i><b>6.4</b> Анализ тональности</a></li>
<li class="chapter" data-level="6.5" data-path="анализ-текста.html"><a href="анализ-текста.html#тематическое-моделирование"><i class="fa fa-check"></i><b>6.5</b> Тематическое моделирование</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="ссылки-на-литературу.html"><a href="ссылки-на-литературу.html"><i class="fa fa-check"></i>Ссылки на литературу</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Зимняя школа АйсДан 2021: скрейпинг и анализ текстовых данных</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="работа-со-строками" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Работа со строками</h1>
<p>Видео-приветствие
“Всем привет! Меня зовут Юля. Я напомню вам о работе со строками в R. Мы посмотрим, как выглядят строки в R, как их можно соединять-разделять, какие функции есть для работы с ними (например,сортировка, поиск и замена подстроки, изменение регистра, транслитеряция и пр). Также мы потрогаем несколько удобных библиотек для работы со строковыми данными. Поехали!”</p>
<p>Работать со строками можно с помощью base R, но чаще всего удобнее пользоваться специальными пакетами:
* <code>stringr</code>, который входит в <code>tidyverse</code> (‘str_’)
* <code>stringi</code> (‘stri_’)</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="работа-со-строками.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
<pre><code>## ── Attaching packages ─────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.3     ✓ purrr   0.3.4
## ✓ tibble  3.0.6     ✓ dplyr   1.0.4
## ✓ tidyr   1.1.2     ✓ stringr 1.4.0
## ✓ readr   1.4.0     ✓ forcats 0.5.1</code></pre>
<pre><code>## ── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="работа-со-строками.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stringi)</span></code></pre></div>
<div id="запись-строк" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Запись строк</h2>
<p>Для начала посмотрим, как можно получить строку.</p>
<ul>
<li>Присвоение</li>
</ul>
<p>Надо вот так:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="работа-со-строками.html#cb6-1" aria-hidden="true" tabindex="-1"></a>string1 <span class="ot">&lt;-</span> <span class="st">&quot;Я строка&quot;</span></span>
<span id="cb6-2"><a href="работа-со-строками.html#cb6-2" aria-hidden="true" tabindex="-1"></a>string2 <span class="ot">&lt;-</span> <span class="st">&#39;И я строка&#39;</span></span>
<span id="cb6-3"><a href="работа-со-строками.html#cb6-3" aria-hidden="true" tabindex="-1"></a>string1</span></code></pre></div>
<pre><code>## [1] &quot;Я строка&quot;</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="работа-со-строками.html#cb8-1" aria-hidden="true" tabindex="-1"></a>string2</span></code></pre></div>
<pre><code>## [1] &quot;И я строка&quot;</code></pre>
<p>Вот так вот не надо:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="работа-со-строками.html#cb10-1" aria-hidden="true" tabindex="-1"></a>string3 <span class="ot">&lt;-</span> <span class="st">&quot;Я тоже своего рода &quot;</span>строка<span class="st">&quot;</span></span>
<span id="cb10-2"><a href="работа-со-строками.html#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="st">string3</span></span></code></pre></div>
<pre><code>## Error: &lt;text&gt;:1:33: unexpected symbol
## 1: string3 &lt;- &quot;Я тоже своего рода &quot;строка
##                                     ^</code></pre>
<p><strong>NB!</strong> Следите за кавычками</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="работа-со-строками.html#cb12-1" aria-hidden="true" tabindex="-1"></a>string4 <span class="ot">&lt;-</span> <span class="st">&quot;Ну вот &#39;так&#39; вроде норм&quot;</span></span>
<span id="cb12-2"><a href="работа-со-строками.html#cb12-2" aria-hidden="true" tabindex="-1"></a>string5 <span class="ot">&lt;-</span> <span class="st">&#39;И &quot;так&quot; тоже&#39;</span></span>
<span id="cb12-3"><a href="работа-со-строками.html#cb12-3" aria-hidden="true" tabindex="-1"></a>string4</span></code></pre></div>
<pre><code>## [1] &quot;Ну вот &#39;так&#39; вроде норм&quot;</code></pre>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="работа-со-строками.html#cb14-1" aria-hidden="true" tabindex="-1"></a>string5</span></code></pre></div>
<pre><code>## [1] &quot;И \&quot;так\&quot; тоже&quot;</code></pre>
<p>Экранирование:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="работа-со-строками.html#cb16-1" aria-hidden="true" tabindex="-1"></a>string6 <span class="ot">&lt;-</span> <span class="st">&quot;Экранирование </span><span class="sc">\&quot;</span><span class="st">лишних</span><span class="sc">\&quot;</span><span class="st"> кавычек&quot;</span></span>
<span id="cb16-2"><a href="работа-со-строками.html#cb16-2" aria-hidden="true" tabindex="-1"></a>string6</span></code></pre></div>
<pre><code>## [1] &quot;Экранирование \&quot;лишних\&quot; кавычек&quot;</code></pre>
<ul>
<li>Печать строки</li>
</ul>
<p>Функции для печати строк вам, скорее всего, известны: <code>print</code>, <code>paste</code>, <code>paste0</code>, <code>cat</code>, <code>noquote</code>, <code>format</code></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="работа-со-строками.html#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">format</span>(<span class="fl">13.495902982</span>, <span class="at">digits=</span><span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] &quot;13.496&quot;</code></pre>
<ul>
<li>Преобразование</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="работа-со-строками.html#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">7</span>)</span></code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="работа-со-строками.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(<span class="dv">4</span><span class="sc">:</span><span class="dv">7</span>)</span></code></pre></div>
<pre><code>## [1] &quot;4&quot; &quot;5&quot; &quot;6&quot; &quot;7&quot;</code></pre>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="работа-со-строками.html#cb24-1" aria-hidden="true" tabindex="-1"></a>string7 <span class="ot">&lt;-</span> (<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>) <span class="sc">^</span> <span class="dv">2</span></span>
<span id="cb24-2"><a href="работа-со-строками.html#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="fu">toString</span> (string7)</span></code></pre></div>
<pre><code>## [1] &quot;1, 4, 9, 16, 25, 36, 49, 64, 81&quot;</code></pre>
<p>Преобразование таблиц в строки</p>
<p><strong>NB!</strong> Функции <code>data.frame()</code>, <code>read.csv()</code>, <code>read.csv2()</code>, <code>read.table()</code> из base R по-умолчанию превращают строки в факторы. Чтобы этого избежать, необходимо указать аргумент <code>stringsAsFactors = FALSE</code>.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="работа-со-строками.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">data.frame</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>]))</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  2 variables:
##  $ letters.1.5.: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...
##  $ LETTERS.1.5.: chr  &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; ...</code></pre>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="работа-со-строками.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">data.frame</span>(letters[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], LETTERS[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>], <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span>))</span></code></pre></div>
<pre><code>## &#39;data.frame&#39;:    5 obs. of  2 variables:
##  $ letters.1.5.: chr  &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; ...
##  $ LETTERS.1.5.: chr  &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; ...</code></pre>
<ul>
<li>Генерация</li>
</ul>
<p>Генерация пустых строк</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="работа-со-строками.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">character</span>(<span class="dv">3</span>)</span></code></pre></div>
<pre><code>## [1] &quot;&quot; &quot;&quot; &quot;&quot;</code></pre>
<p>Генерация рандомных строк</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="работа-со-строками.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb32-2"><a href="работа-со-строками.html#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stri_rand_strings</span>(<span class="at">n =</span> <span class="dv">10</span>, <span class="at">length =</span> <span class="dv">5</span><span class="sc">:</span><span class="dv">14</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;uwHpd&quot;          &quot;Wj8ehS&quot;         &quot;ivFSwy7&quot;        &quot;TYu8zw5V&quot;      
##  [5] &quot;OuRpjoOg0&quot;      &quot;p0CubNR2yQ&quot;     &quot;xtdycKLOm2k&quot;    &quot;fAGVfylZqBGp&quot;  
##  [9] &quot;gE28DTCi0NV0a&quot;  &quot;9MemYE55If0Cvv&quot;</code></pre>
<p>Генерация псевдорандомных строк (классический текст-заполнитель Lorem ipsum)</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="работа-со-строками.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stri_rand_lipsum</span>(<span class="at">nparagraphs =</span> <span class="dv">2</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Lorem ipsum dolor sit amet, non, consectetur aliquam mollis velit accumsan condimentum sit sed. Eu dapibus habitant faucibus interdum vel? Libero amet lacus aliquam ac sit, porta? Leo leo dolor enim eu rutrum volutpat posuere, pulvinar, inceptos bibendum aliquam quis. Laoreet vulputate inceptos posuere eu, id vel pretium eu eu. Ut in urna ac laoreet scelerisque hendrerit. Metus integer purus nec, purus parturient dolor eget quis pharetra tristique. Donec in lacus vehicula orci, ligula faucibus per. Sem amet tempus nascetur, tincidunt euismod pellentesque sit? In vitae ligula nec pellentesque sed hac. Curabitur ut semper lectus justo ut suspendisse ut at faucibus dolor. Nec non neque senectus donec sit nunc. Urna sed, ultricies, ac pharetra orci luctus, iaculis ac.&quot;
## [2] &quot;Tincidunt cum neque eu semper at sociosqu hendrerit eu aliquet lacus, eu hendrerit. Donec aliquam eros risus nibh quam in sit facilisi ipsum. Amet sem sed donec sed molestie, scelerisque tincidunt nisl. Donec et facilisis interdum non sed dolor purus in ipsum, dignissim torquent velit. Nec aliquam pellentesque, ac adipiscing neque et at torquent. Vestibulum ullamcorper ad dictumst. Enim velit non nulla, felis habitant egestas placerat consectetur. Dictum nostra sed nec. Erat phasellus dolor libero aliquam viverra, vestibulum leo et suscipit. Egestas in in montes sapien gravida conubia purus varius ut nec. Feugiat, risus eleifend magnis neque diam suspendisse ullamcorper nulla adipiscing, malesuada massa nisi.&quot;</code></pre>
<ul>
<li>встроенные векторы</li>
</ul>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="работа-со-строками.html#cb36-1" aria-hidden="true" tabindex="-1"></a>letters</span></code></pre></div>
<pre><code>##  [1] &quot;a&quot; &quot;b&quot; &quot;c&quot; &quot;d&quot; &quot;e&quot; &quot;f&quot; &quot;g&quot; &quot;h&quot; &quot;i&quot; &quot;j&quot; &quot;k&quot; &quot;l&quot; &quot;m&quot; &quot;n&quot; &quot;o&quot; &quot;p&quot; &quot;q&quot; &quot;r&quot; &quot;s&quot;
## [20] &quot;t&quot; &quot;u&quot; &quot;v&quot; &quot;w&quot; &quot;x&quot; &quot;y&quot; &quot;z&quot;</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="работа-со-строками.html#cb38-1" aria-hidden="true" tabindex="-1"></a>LETTERS</span></code></pre></div>
<pre><code>##  [1] &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;D&quot; &quot;E&quot; &quot;F&quot; &quot;G&quot; &quot;H&quot; &quot;I&quot; &quot;J&quot; &quot;K&quot; &quot;L&quot; &quot;M&quot; &quot;N&quot; &quot;O&quot; &quot;P&quot; &quot;Q&quot; &quot;R&quot; &quot;S&quot;
## [20] &quot;T&quot; &quot;U&quot; &quot;V&quot; &quot;W&quot; &quot;X&quot; &quot;Y&quot; &quot;Z&quot;</code></pre>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="работа-со-строками.html#cb40-1" aria-hidden="true" tabindex="-1"></a>month.name</span></code></pre></div>
<pre><code>##  [1] &quot;January&quot;   &quot;February&quot;  &quot;March&quot;     &quot;April&quot;     &quot;May&quot;       &quot;June&quot;     
##  [7] &quot;July&quot;      &quot;August&quot;    &quot;September&quot; &quot;October&quot;   &quot;November&quot;  &quot;December&quot;</code></pre>
<ul>
<li>чтение из файла</li>
</ul>
<p>Чтение таблицы
Функция <code>read_csv</code> взята из пакета <code>readr</code>, который является частью <code>tidyverse</code>. Для чтения таблиц также есть функции <code>read_csv2()</code>, <code>read_tsv()</code> и <code>read_delim()</code>. В каких случаях они используются вы можете узнать в справке: <code>?read_csv2()</code></p>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="работа-со-строками.html#cb42-1" aria-hidden="true" tabindex="-1"></a>sample <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/data_ficbook_untamed_sample.csv&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Missing column names filled in: &#39;X1&#39; [1]</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="работа-со-строками.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sample)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["X1"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["link"],"name":[2],"type":["chr"],"align":["left"]},{"label":["title"],"name":[3],"type":["chr"],"align":["left"]},{"label":["author_link"],"name":[4],"type":["chr"],"align":["left"]},{"label":["author"],"name":[5],"type":["chr"],"align":["left"]},{"label":["page"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["fandom"],"name":[7],"type":["chr"],"align":["left"]},{"label":["subtitle"],"name":[8],"type":["chr"],"align":["left"]},{"label":["text"],"name":[9],"type":["chr"],"align":["left"]},{"label":["likes"],"name":[10],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"/readfic/9941747","3":"Сгорая, плачут свечи...","4":"/authors/1783054","5":"Mrs. Lady Night","6":"63","7":"Неукротимый","8":"Подкидыш","9":"Осенней ночью за окном\\r\\r\\nТуман поссорился с дождем,\\r\\r\\nИ беспробудный вечер,\\r\\r\\nИ беспробудный вечер.\\r\\r\\nО чем-то дальнем, неземном,\\r\\r\\nО чем-то близком и родном,\\r\\r\\nСгорая, плачут свечи,\\r\\r\\nСгорая, плачут свечи…*\\r\\r\\n\\r\\r\\nПочему-то считается, что русалки могут жить только в южных морях, мол, там и тепло, и пищи в достатке, и красиво. Но это не соответствует действительности. Морской народ встречается и в северных морях, хотя они и холодные, и темно-серые, и с добычей пропитания часто возникают проблемы.\\r\\r\\n\\r\\r\\nСе Лянь развалился на роскошной софе в доме своего мужа в Призрачном городе и с интересом переключал каналы на пульте от Всемирного Всевидящего Ока, которое подарил ему муж на очередную годовщину их свадьбы. Где раздобыл Хуа Чэн этого странного монстра, который занимал практически всю противоположную софе стену, он, конечно, не признавался, но пояснил, что часто вынужден покидать своего драгоценного супруга по делам Градоначальника, и чтобы муж не скучал без него, пусть любуется красотами далёких миров, а потом за ужином веселит его рассказами об увиденном.\\r\\r\\n\\r\\r\\nСе Лянь уже который вечер с удовольствием восхищался и удивлялся жизнью за пределами их земель, когда однажды совершенно случайно Око не показало ему странный, смутивший и сердце, и ум сюжет:\\r\\r\\n\\r\\r\\nОдним осенним холодным ветреным вечером на вершине утёса сидела русалка и смотрела вдаль, любуясь окружающим пейзажем. Сквозь облака пробивался печальный лунный свет, освещая бескрайние удивительные волны, которые, словно дыша, вздымались и волновались.**\\r\\r\\n\\r\\r\\n«Какой проникнутый печалью, холодом и одиночеством пейзаж, — подумала русалка (Око показывало не только видео, но могло транслировать и слова, и мысли). — Мы живём в холодном тёмном унылом море вместе с рыбами и различными свирепыми чудовищами. А ведь мы так похожи на людей и телом, и душой!»\\r\\r\\n\\r\\r\\nРусалка вспоминала долгие месяцы и годы одиночества, когда ей не с кем было перекинуться словом, пока не встретила своего будущего мужа. Но и с ним была счастлива недолго. Буквально на днях его съела белая акула, и женщина осталась одна, но с ребёнком под сердцем. И опять уже для будущего сына русалка хранила свои мечты о ярком и светлом мире, который раскинулся в шуме, свете и счастье (так ей казалось) за береговой чертой.\\r\\r\\n\\r\\r\\nОна считала, что города, где живут люди, прекрасны… там всё не так, как у рыб или других морских обитателей… Для своего ребёнка мать не хотела печального одиночества в глубине холодного моря.\\r\\r\\n\\r\\r\\nИ всё чаще её посещала мысль отдать дитя на воспитание людям: — Мне будет трудно навсегда расстаться с моими плотью и кровью, но я буду радоваться его счастью. А он непременно будет счастлив! Говорят, что люди — самые добрые существа на свете, они не обижают слабых и беззащитных. Если они воспитают моего сыночка, за него можно не беспокоиться.\\r\\r\\n\\r\\r\\nСе Лянь так обеспокоился этим сюжетом, что приказал пульту добавить его в самые важные закладки, чтобы потом ещё не раз проследить за такой глупой русалкой.\\r\\r\\n\\r\\r\\n— Ты представляешь, — продолжал возмущаться он во время ужина, уже после того, как поведал мужу, что его расстроило, — эта глупая рыба (иначе не назовёшь) хочет отдать своё родное дитя людям, считая, что у нас тут мёдом всё намазано и праздник круглый год. Как такое ей вообще в голову могло придти!\\r\\r\\n\\r\\r\\nХуа Чэн попытался успокоить своего очень доброго и ответственного супруга, но тот был непримирим: — Я должен досмотреть эту историю, и, если что, помочь бедному малышу обрести счастье.\\r\\r\\n\\r\\r\\nВот с этим Чэн согласился и вызвался, если надо, помочь Се Ляню.\\r\\r\\n\\r\\r\\n***\\r\\r\\n\\r\\r\\nДалеко-далеко на высокой прибрежной горе стоял маленький храм, огни которого мелькали вечерами и ночами среди волн. Русалка, как зачарованная, пристально и долго вглядывалась в них и наконец решилась. Она соскользнула с утёса и поплыла на свет мерцающих огней, чтобы родить ребёнка на суше.**\\r\\r\\n\\r\\r\\nНа берегу моря раскинулся небольшой провинциальный городишко с различными магазинчиками и лавками. А у подножия горы пожилая пара держала захудалую свечную лавку. Старик делал свечи, а старуха их продавала. Когда горожане или рыбаки из окрестных деревень посещали храм на горе, то всегда покупали свечи у пожилой супружеской пары.**\\r\\r\\n\\r\\r\\nХрам же располагался на самой вершине горы в сосновой роще. Со стороны моря всегда дул сильный ветер, раскачивал сосны и, завывая и днём, и ночью, пытался обломать ветви. И каждую ночь в храме, мерцая и дрожа, горели свечи; их сияние можно было созерцать даже со стороны моря.\\r\\r\\n\\r\\r\\nОднажды вечером старуха обратилась к мужу:\\r\\r\\n— Если бы на вершине горы не было храма, никто бы наши свечи не покупал. Мы должны благодарить богов за это, поэтому я сейчас пойду в храм и помолюсь.\\r\\r\\n\\r\\r\\n— Ты права, я сам давно собираюсь, но каждый день тут такие суета и заботы, что и недосуг… Иди и помолись за меня тоже, — отвечал жене старик.\\r\\r\\n\\r\\r\\nСтаруха вышла из дома и с огромным трудом стала подниматься на гору. Ночь стояла лунная, и было видно, как днём.\\r\\r\\n\\r\\r\\nНаконец, женщина поднялась, сотворила молитву и медленно отправилась обратно. Вдруг на каменных ступенях она увидела плачущего новорожденного младенца.\\r\\r\\n\\r\\r\\n— Бедняжка, кто тебя здесь бросил? Постой… а ведь это знак свыше! Когда я поднималась, на лестнице никого не было, и ты появился только после того, как я зажгла свечи и принесла благодарности богам, которые, конечно, знали, что у нас нет детей и даровали нам тебя.\\r\\r\\n\\r\\r\\n— Ага, нам больше делать нечего, как подкидывать вам детей. Вы с этим и сами прекрасно справляетесь, вон сколько приютов понастроено; я не успеваю их освящать и помогать детям, проживающим в них. — Подумал Се Лянь, но поступку старухи порадовался, хотя что-то всё же царапало в душе и не давало забыть этого ребёнка.\\r\\r\\n\\r\\r\\nСтаруха обняла младенца, и, приговаривая: «бедняжка, бедняжка», воротилась домой.\\r\\r\\nСтарик очень удивился, увидев жену с ребёнком на руках. Старуха всё ему рассказала, и он тоже согласился, что это дитя — дар богов, и его обязательно надо взять к себе, иначе боги на них обидятся и нашлют страшные кары небесные.\\r\\r\\n\\r\\r\\nЭтот эпизод удалось посмотреть и Хуа Чэну, который, разделяя беспокойство мужа, тихо как бы про себя заметил: — Только попробуйте обидеть дитя и будете иметь дело со мной!\\r\\r\\n\\r\\r\\nКогда супруги развернули пелёнки, то онемели от увиденного. Младенец оказался русалкой мужского пола, у которого вместо ног был хвост, как у рыбы. Старики, конечно, ещё от своих ныне покойных родителей слышали, что в их море водятся русалки, но сами видели такое чудо впервые.\\r\\r\\n\\r\\r\\n— Это не человек… — побелевшими губами произнёс муж. (Громогласный ржач Хуа Чэна)\\r\\r\\n\\r\\r\\n— Пусть даже и так, это очень милый мальчик. — Радостно, совершенно успокоившись, ответила жена. — Возьмём его на воспитание и наречём Вэй Ином.\\r\\r\\n\\r\\r\\nИ они приняли русала в свою семью, никому ничего не рассказав.\\r\\r\\n\\r\\r\\n***\\r\\r\\n\\r\\r\\nМальчик рос и становился красивее день ото дня: большие умные чёрные глаза, длинные волосы, нежная кожа. По характеру был тихим, скромным и разумным.**\\r\\r\\n\\r\\r\\n— Хуа Чэн, если бы я не знал, что у русалки был муж и не видел, как его съела акула (Око могло показывать и уже произошедшее), то я бы взревновал тебя. Уж очень много у русала во внешности сходных с тобой черт.\\r\\r\\n\\r\\r\\n***\\r\\r\\n\\r\\r\\nШли годы. Вэй Ин вырос и превратился в статного молодого человека, но по-прежнему никогда не выходил из дома, так как очень стеснялся того, что отличался от всех остальных людей, которые, случайно увидев парня в свечной лавке, были поражены его красотой. В надежде увидеть Вэй Ина хоть краешком глаза они снова и снова приходили в лавку за свечами.\\r\\r\\n\\r\\r\\nНо старики отвечали желающим познакомиться с молодым человеком: «Наш внук очень застенчив и никогда не выходит к гостям».\\r\\r\\n\\r\\r\\nОбычно русал сидел рядом со стариком, когда тот мастерил из воска свечи. Сидеть просто так, ничего не делая, было скучно, и русал стал рисовать красной краской на белых боках свеч диковинных рыб, раковины, водоросли. И в его небольших картинах таились странная сила и красота.\\r\\r\\nУдивительным было то, что Ин никогда не учился рисовать и не видел ни моря, ни его обитателей.\\r\\r\\n\\r\\r\\n«Конечно, никакой человек так не нарисует глубины моря, пусть и не виденного, как русал. Это в нём просыпается врождённая память», — восхищался старик.\\r\\r\\n\\r\\r\\nВскоре с утра до вечера и дети, и взрослые горожане стали осаждать свечную лавку и требовать одно и то же: «Дайте мне разрисованную свечу!»\\r\\r\\n\\r\\r\\nВэй Ину приходилось работать и днём, и ночью, чтобы удовлетворить запросы всех желающих; он очень уставал, у него болели руки, но русал продолжал рисовать, чтобы помочь дедушке и бабушке; а супруги только радовались этому, потому что ручеёк денег непрерывно тёк в их карманы.\\r\\r\\n\\r\\r\\nВместе с этим поползли удивительные слухи, мол, если поставить разрисованную свечу в храме на горе, а потом забрать огарок с собой и перед выходом в море осенить себя его огнём, это пламя защитит корабль или лодку от самой сильной бури, и ты обязательно вернёшься домой.**\\r\\r\\n\\r\\r\\nВсе рассуждали так, мол, в храме возносят молитвы богу морей, поэтому он и радуется, когда в его честь зажигается очередная красивая свеча.\\r\\r\\n\\r\\r\\n***\\r\\r\\n\\r\\r\\nСлухи о чудесных свечах распространились сначала за пределы этого городка, а потом — и страны. Внезапно и гора, и храм стали известны и почитаемы во всём мире. И простые рыбаки, и бывалые известные мореходы приезжали издалека, ставили свечу в храме на горе, ждали, когда она прогорит и забирали огарок с собой.** Поэтому теперь в храме свечи горели непрерывно. Особенно красиво сияли они в темноте ночи, и их свет был виден издалека проплывавшим мимо кораблям.\\r\\r\\n\\r\\r\\n«Какой великий и добрый этот бог морей!» — восхищались люди, глядя на такое великолепие.\\r\\r\\n\\r\\r\\nНо, естественно, никто не думал о бедном парне, который вкладывал в рисунки душу. Никто его не жалел. У супругов деньги вытеснили все добрые чувства, и с каждым днём они требовали, чтобы Вэй Ин работал всё больше и всё дольше. Поэтому порой в лунные ночи русал открывал окно, с тоской смотрел на море, и тихие слёзы тоски и одиночества струились по его бледным впалым (порой ему не хватало времени, чтобы даже поесть) щекам.\\r\\r\\n\\r\\r\\n— Ну, я так и знал, что этим всё и закончится, — Се Лянь разрыдался, а Хуа Чэн прижал к себе расстроенного супруга и задумался.","10":"27"},{"1":"2","2":"/readfic/9309582","3":"Объятья длиной в вечность","4":"/authors/1044964","5":"Wales","6":"131","7":"Неукротимый","8":"NA","9":"На<U+200C> <U+200C>уроке<U+200C> <U+200C>старика<U+200C> <U+200C>Ланя<U+200C> <U+200C>по-обыденному<U+200C> <U+200C>скучно.<U+200C> <U+200C>Настолько<U+200C> <U+200C>скучно,<U+200C> <U+200C>что<U+200C> <U+200C>монотонный<U+200C> голос<U+200C> <U+200C>убаюкивает<U+200C> <U+200C>и<U+200C> <U+200C>манит<U+200C> <U+200C>ко<U+200C> <U+200C>сну.<U+200C> <U+200C>Цзян<U+200C> <U+200C>Чэн<U+200C> <U+200C>позади<U+200C> <U+200C>что-то<U+200C> <U+200C>шикает,<U+200C> <U+200C>Не-сюн<U+200C> <U+200C>машет<U+200C> веером,<U+200C> <U+200C>привлекая<U+200C> <U+200C>внимание,<U+200C> <U+200C>и<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>поворачивается<U+200C> <U+200C>с<U+200C> <U+200C>немым<U+200C> <U+200C>вопросом.<U+200C> <U+200C>Мол,<U+200C> чего<U+200C> <U+200C>тебе?<U+200C> <U+200C>Если<U+200C> <U+200C>сплетни<U+200C> <U+200C>про<U+200C> <U+200C>наше<U+200C> <U+200C>приключение<U+200C> <U+200C>с<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжанем,<U+200C> <U+200C>то<U+200C> <U+200C>давай<U+200C> <U+200C>потом.<U+200C> <U+200C>Я<U+200C> <U+200C>не<U+200C> выспался<U+200C> <U+200C>абсолютно.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nА<U+200C> <U+200C>еще<U+200C> <U+200C>голова<U+200C> <U+200C>тяжелая.<U+200C> <U+200C>И<U+200C> <U+200C>в<U+200C> <U+200C>теле<U+200C> <U+200C>до<U+200C> <U+200C>странного<U+200C> <U+200C>неприятно<U+200C> <U+200C>находиться.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nНе-сюн<U+200C> <U+200C>дергается,<U+200C> <U+200C>когда<U+200C> <U+200C>его<U+200C> <U+200C>окликает<U+200C> <U+200C>Лань<U+200C> Цижэнь, выпрямляется<U+200C> <U+200C>и<U+200C> <U+200C>нервно<U+200C> <U+200C>кивает,<U+200C> <U+200C>с<U+200C> нарастающей<U+200C> <U+200C>паникой<U+200C> <U+200C>слушая<U+200C> <U+200C>вопрос.<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>тоже<U+200C> <U+200C>вслушивается,<U+200C> <U+200C>но<U+200C> <U+200C>звуки<U+200C> <U+200C>словно<U+200C> <U+200C>\\r\\r\\nпропадают<U+200C> <U+200C>где-то<U+200C> <U+200C>на<U+200C> <U+200C>полпути<U+200C> <U+200C>к<U+200C> <U+200C>нему,<U+200C> <U+200C>долетая<U+200C> <U+200C>какими-то<U+200C> <U+200C>обрывками.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nУжасно<U+200C> <U+200C>хочется<U+200C> <U+200C>спать.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nВэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>переводит<U+200C> <U+200C>взгляд<U+200C> <U+200C>на<U+200C> <U+200C>идеально-прямую<U+200C> <U+200C>спину<U+200C> <U+200C>впереди,<U+200C> <U+200C>выдыхает<U+200C> <U+200C>и<U+200C> негромко<U+200C> <U+200C>пытается<U+200C> <U+200C>окликнуть<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжаня,<U+200C> <U+200C>гордость<U+200C> <U+200C>старика<U+200C> <U+200C>Ланя<U+200C> <U+200C>и<U+200C> <U+200C>заклинателя,<U+200C> <U+200C>что<U+200C> <U+200C>вчера<U+200C> <U+200C>перевязал<U+200C> <U+200C>ему<U+200C> <U+200C>лентой<U+200C> <U+200C>запястье.<U+200C> <U+200C>Святая<U+200C> <U+200C>Гуаньинь,<U+200C> <U+200C>а<U+200C> <U+200C>там<U+200C> <U+200C>разве<U+200C> <U+200C>с<U+200C> <U+200C>лентой<U+200C> <U+200C>нет<U+200C> <U+200C>чего-то,<U+200C> <U+200C>ну?..<U+200C> Думать<U+200C> <U+200C>сложно.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n—<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжань,<U+200C> <U+200C>—<U+200C> <U+200C>шепчет<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь.<U+200C> <U+200C>—<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжань.<U+200C> <U+200C>—<U+200C> <U+200C>На<U+200C> <U+200C>фоне<U+200C> <U+200C>старик<U+200C> <U+200C>Лань<U+200C> <U+200C>громит<U+200C> <U+200C>в<U+200C> <U+200C>\\r\\r\\nпух<U+200C> <U+200C>и<U+200C> <U+200C>прах<U+200C> <U+200C>Не-сюна,<U+200C> <U+200C>запинающегося<U+200C> <U+200C>и<U+200C> <U+200C>лепечущего,<U+200C> <U+200C>прикрывающегося<U+200C> <U+200C>веером,<U+200C> <U+200C>а<U+200C> <U+200C>что<U+200C> <U+200C>ему<U+200C> <U+200C>до<U+200C> <U+200C>этого<U+200C> <U+200C>дело?<U+200C> <U+200C>А<U+200C> <U+200C>какое<U+200C> <U+200C>должно<U+200C> <U+200C>быть?..<U+200C> <U+200C>Впереди<U+200C> <U+200C>белое<U+200C> <U+200C>пятно,<U+200C> <U+200C>ровные<U+200C> <U+200C>складки<U+200C> <U+200C>ткани,<U+200C> <U+200C>прямые<U+200C> <U+200C>черные<U+200C> <U+200C>волосы<U+200C> <U+200C>и<U+200C> <U+200C>две<U+200C> <U+200C>полоски<U+200C> <U+200C>ленты,<U+200C> <U+200C>закрепленные<U+200C> <U+200C>на<U+200C> <U+200C>шпильке<U+200C> в<U+200C> <U+200C>заколке.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nЛань<U+200C> <U+200C>Чжань<U+200C> <U+200C>оборачивается.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nВ<U+200C> <U+200C>золотых<U+200C> <U+200C>глазах<U+200C> <U+200C>повис<U+200C> <U+200C>немой<U+200C> <U+200C>упрек<U+200C> <U+200C>и<U+200C> <U+200C>одновременно<U+200C> <U+200C>вопрос.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nКрасиво.<U+200C> <U+200C>Красивые.<U+200C> <U+200C>Глаза.<U+200C> <U+200C>Золотистые,<U+200C> <U+200C>как<U+200C> <U+200C>янтарный<U+200C> <U+200C>мед.<U+200C> <U+200C>Как<U+200C> <U+200C>зимний<U+200C> <U+200C>рассвет.<U+200C> <U+200C>И..<U+200C> <U+200C>гуй<U+200C> <U+200C>\\r\\r\\nраздери,<U+200C> <U+200C>о<U+200C> <U+200C>чем<U+200C> <U+200C>он<U+200C> <U+200C>думает?<U+200C> <U+200C>А<U+200C> <U+200C>впрочем,<U+200C> <U+200C>важно<U+200C> <U+200C>ли…<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжань<U+200C> <U+200C>смотрит<U+200C> <U+200C>и<U+200C> <U+200C>смотрит,<U+200C> ждет,<U+200C> <U+200C>внимательно<U+200C> <U+200C>ждет,<U+200C> <U+200C>такой<U+200C> терпеливый,<U+200C> <U+200C>такой…<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nВэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>чувствует,<U+200C> <U+200C>как<U+200C> <U+200C>небо<U+200C> <U+200C>меняется<U+200C> <U+200C>с<U+200C> <U+200C>землей,<U+200C> <U+200C>его<U+200C> <U+200C>пальцы<U+200C> <U+200C>касаются<U+200C> <U+200C>спины,<U+200C> <U+200C>\\r\\r\\nоблаченной<U+200C> <U+200C>в<U+200C> <U+200C>белое,<U+200C> <U+200C>и<U+200C> <U+200C>как<U+200C> <U+200C>его<U+200C> <U+200C>подхватывают,<U+200C> <U+200C>не<U+200C> <U+200C>давая<U+200C> <U+200C>удариться<U+200C> <U+200C>о<U+200C> <U+200C>деревянный<U+200C> <U+200C>столик,<U+200C> <U+200C>почти<U+200C> <U+200C>мгновенно,<U+200C> <U+200C>так<U+200C> <U+200C>быстро,<U+200C> <U+200C>что<U+200C> <U+200C>перехватывает<U+200C> <U+200C>дыхание.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n—<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжань,<U+200C> <U+200C>—<U+200C> <U+200C>бормочет<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь,<U+200C> <U+200C>держась<U+200C> <U+200C>за<U+200C> <U+200C>белый<U+200C> <U+200C>рукав.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n—<U+200C> <U+200C>Вэй<U+200C> <U+200C>Ин,<U+200C> <U+200C>—<U+200C> <U+200C>и<U+200C> <U+200C>в<U+200C> <U+200C>чужом<U+200C> <U+200C>голосе<U+200C> <U+200C>сквозит<U+200C> <U+200C>почти<U+200C> <U+200C>ощутимое<U+200C> <U+200C>беспокойство.<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>\\r\\r\\nхихикает<U+200C> <U+200C>в<U+200C> <U+200C>руках,<U+200C> <U+200C>улыбается,<U+200C> <U+200C>и<U+200C> <U+200C>абсолютно<U+200C> <U+200C>неважно,<U+200C> <U+200C>что<U+200C> <U+200C>происходит<U+200C> <U+200C>за<U+200C> <U+200C>пределами<U+200C> <U+200C>их<U+200C> <U+200C>\\r\\r\\nмаленького,<U+200C> <U+200C>четко<U+200C> <U+200C>очерченного<U+200C> <U+200C>мира.<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжань<U+200C> <U+200C>оборачивается,<U+200C> <U+200C>голоса<U+200C> <U+200C>сливаются<U+200C> <U+200C>в<U+200C> <U+200C>\\r\\r\\nнеразличимый<U+200C> <U+200C>гул,<U+200C> <U+200C>а<U+200C> <U+200C>руки<U+200C> <U+200C>сжимают<U+200C> <U+200C>только<U+200C> <U+200C>крепче,<U+200C> <U+200C>и<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>чувствует<U+200C> <U+200C>себя<U+200C> <U+200C>в<U+200C> <U+200C>\\r\\r\\nполнейшей<U+200C> <U+200C>безопасности.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nХорошо.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n***<U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nПод<U+200C> <U+200C>веки<U+200C> <U+200C>пытается<U+200C> <U+200C>заглянуть<U+200C> <U+200C>солнце,<U+200C> <U+200C>щекочет<U+200C> <U+200C>шею<U+200C> <U+200C>и<U+200C> <U+200C>щеки<U+200C> <U+200C>теплыми<U+200C> <U+200C>касаниями,<U+200C> <U+200C>и<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>приоткрывает<U+200C> <U+200C>глаза.<U+200C> <U+200C>В<U+200C> <U+200C>нос<U+200C> <U+200C>ударяет<U+200C> <U+200C>запахом<U+200C> <U+200C>лекарственных<U+200C> <U+200C>трав<U+200C> <U+200C>и<U+200C> <U+200C>согревающих<U+200C> <U+200C>мазей,<U+200C> <U+200C>а<U+200C> <U+200C>еще<U+200C> <U+200C>основой<U+200C> <U+200C>под<U+200C> <U+200C>настои,<U+200C> <U+200C>и<U+200C> <U+200C>он<U+200C> <U+200C>чихает,<U+200C> <U+200C>подскакивая<U+200C> <U+200C>на<U+200C> <U+200C>кровати.<U+200C> <U+200C>Что<U+200C> <U+200C>он<U+200C> здесь<U+200C> <U+200C>забыл?<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n—<U+200C> <U+200C>А-Сянь!<U+200C> <U+200C>—<U+200C> <U+200C>Восклицает<U+200C> <U+200C>шицзе,<U+200C> <U+200C>откладывая<U+200C> <U+200C>тряпку.<U+200C> <U+200C>Госпожа<U+200C> <U+200C>Вэнь<U+200C> <U+200C>вздыхает<U+200C> и<U+200C> молчаливо<U+200C> <U+200C>выходит<U+200C> <U+200C>из<U+200C> <U+200C>лекарских<U+200C> <U+200C>покоев.<U+200C> <U+200C>Через<U+200C> <U+200C>несколько<U+200C> <U+200C>мяо<U+200C> <U+200C>влетает<U+200C> <U+200C>Цзян<U+200C> <U+200C>Чэн<U+200C> и<U+200C> его<U+200C> вид<U+200C> <U+200C>что-то<U+200C> <U+200C>среднее<U+200C> <U+200C>между<U+200C> <U+200C>встревоженностью,<U+200C> <U+200C>смущением<U+200C> <U+200C>и<U+200C> <U+200C>злостью.<U+200C> <U+200C>—<U+200C> <U+200C>Как<U+200C> <U+200C>ты<U+200C> <U+200C>себя<U+200C> <U+200C>чувствуешь?<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nВэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>моргает.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n—<U+200C> <U+200C>Хорошо.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n—<U+200C> <U+200C>Будет<U+200C> <U+200C>действительно<U+200C> <U+200C>прекрасно,<U+200C> <U+200C>если<U+200C> <U+200C>это<U+200C> <U+200C>так!<U+200C> <U+200C>—<U+200C> <U+200C>Проворчал<U+200C> <U+200C>Цзян<U+200C> <U+200C>Чэн,<U+200C> <U+200C>озираясь<U+200C> <U+200C>и<U+200C> <U+200C>занося<U+200C> <U+200C>в<U+200C> <U+200C>лекарские<U+200C> <U+200C>покои<U+200C> <U+200C>чашу<U+200C> <U+200C>со<U+200C> <U+200C>знакомо<U+200C> <U+200C>пахнущим<U+200C> <U+200C>супом.<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>почти<U+200C> <U+200C>сразу<U+200C> <U+200C>же<U+200C> <U+200C>потянулся<U+200C> <U+200C>на<U+200C> <U+200C>аромат, но шицзе придавила его к постели сильной рукой. Цзян Чэн победно хмыкнул и поставил чашу на стол, подальше от Вэй Усянь. Вот маленький!.. \\r\\r\\n\\r\\r\\n— Лежи спокойно, — строго сказала Цзян Яньли. — Ты еще не поправился.\\r\\r\\n\\r\\r\\n— Как поем супа, так сразу и поправлюсь! — Воскликнул Вэй Усянь, ерзая на постели. Шицзе улыбнулась, покачав головой. — А откуда?.. — Насторожился он. — В Гусу же нельзя мясо. И вообще, сколько я провалялся и почему здесь? Шицзе? Цзян Чэн? — Цзян Яньли нахмурилась и достала иглу, в которой Вэй Усянь с ужасом опознал одну из игл девы Вэнь. \\r\\r\\n\\r\\r\\n— А-Сянь, тебе сказано было не двигаться, иначе снова появится жар. \\r\\r\\n\\r\\r\\n— Вот и как тебя угораздило, а? — Задал вопрос Цзян Чэн, бесцеремонно сдвигая ноги Вэй Усяня в сторону и садясь на постель. — Нормально же все до этого было. Или мне вспомнить твою с Лань Ванцзи таинственную пропажу на несколько дней, а? Не обнаглел часом? \\r\\r\\n\\r\\r\\n— А-Чэн, — мягко осадила Цзян Чэна шицзе. Вэй Усянь растерянно моргнул. \\r\\r\\n\\r\\r\\n— И все еще не понимаю, о чем вы говорите, — он поднял бровь и подобрал под себя ноги, вновь начиная ощущать странное чувство дискомфорта. Словно все слишком тяжёлое и перекрученное до звенящей струны. Ныла спина, руки, и Вэй Усянь медленно начал осознавать. \\r\\r\\n\\r\\r\\n— Ты грохнулся без сознания прямиком на Лань Ванцзи на уроке Лань Цижэня! — Выпалил Цзян Чэн, хорохорясь, как птица на ветке зимой. — Устроил переполох. Лань Ванцзи, кажется, пять цветов лица сменил, начиная с бледного бежевого и заканчивая белым. Картина тушью — знаменитый второй господин Лань, игнорируя всё и вся, встает и уходит с тобой прямиком с урока. \\r\\r\\n\\r\\r\\nЦзян Яньли хихикнула. \\r\\r\\n\\r\\r\\nЛицо Вэй Усяня напоминало собой карикатуру — два больших глаза и разинутый рот. Он потянулся немного вперед, невольно зажмурив глаза от стрельнувшей в голове боли. Яньли сразу опустила прохладную ладонь ему на лоб. \\r\\r\\n\\r\\r\\n— Опять жар. Три дня сбивали, всей толпой во главе с Лань Ванцзи, а толку? \\r\\r\\n\\r\\r\\n— Три дня?! — Закричал Вэй Усянь. — Целых три дня?! \\r\\r\\n\\r\\r\\nЦзян Чэн закатил глаза, подошел и почти силком опустил неугомонного брата в постель, накрывая по самое горло одеялом. Цзян Яньли благодарно кивнула и ненадолго отошла, оставляя Вэй Усяня один на один со сверлящим взглядом Цзян Чэном. \\r\\r\\n\\r\\r\\n— Вот именно что три дня, гуя кусок, — проворчал Цзян Чэн. — Первые несколько сяоши лекарь не знал, за что хвататься: за толпу перед павильоном, за тебя или за успокаивающий чай. Лань Ванцзи, кажется, и вовсе решил здесь гнездо свить, тебя в него перетянуть и высиживать, как курица яйцо. \\r\\r\\n\\r\\r\\n— Святая Гуаньинь, а-Чэн, мне кажется, лекарь нужен тебе. \\r\\r\\n\\r\\r\\nЦзян Чэн хлопнул Вэй Усяня по лбу второй подушкой. \\r\\r\\n\\r\\r\\n—Зат-кнись. \\r\\r\\n\\r\\r\\nВэй Усянь покорно замолчал, начиная ощущать головокружение. Такое состояние было привычным в детстве, но никак не сейчас. Сейчас-то он сильный заклинатель, лучше многих в его возрасте! Но, видимо, Ледяной омут не прошел бесследно. А если учесть, что они там находились не пару сяоши, а гораздо, гораздо дольше… и вовсе скорбная картина получается. \\r\\r\\n\\r\\r\\nТри дня в постели без чувств валяться, это надо же... \\r\\r\\nПогодите-ка.\\r\\r\\n\\r\\r\\nЦзян Чэн сказал, что три дня — и рядом был Лань Чжань… \\r\\r\\n\\r\\r\\n— Цзян Чэн, Цзян Чэн! — Вэй Усянь снял с себя подушку, подскакивая на постели. Цзян Чэн опять закатил глаза, но не порывался угомонить его. Превосходно.— Слушай, ты тут сказал… что Лань Чжань… — Вэй Усянь выставил перед собой пальцы, изображая ими Лань Ванцзи в виде кролика, — был рядом…— тыкнул ими в постель, — со мной. Где он сейчас? \\r\\r\\n\\r\\r\\n— Он отошел семь сяоши назад, — задумчиво проговорил Цзян Чэн, двигая ноги Вэй Усяня еще дальше. — Он и а-цзе поговорили о чем-то, а потом Лань Ванцзи поднялся и ушел. А-цзе через некоторое время ушла тоже, оставив меня и деву Вэнь следить за тобой. Потом вернулась, сказала, что через цзы можно будет проверять готовность супа. Не знаю, — пожал плечами Цзян Чэн. — Двигайся давай, я устал. \\r\\r\\n\\r\\r\\n— Так волновался за меня, что устал! — Притворно восторженно воскликнул Вэй Усянь.\\r\\r\\n\\r\\r\\n— Не валялся бы ты три дня мертвецом, не устал бы, — недовольно проворчал Цзян Чэн, приоткрывая глаз. Вэй Усянь негромко хохотнул, позволяя шиди занять часть постели. Тот, впрочем, быстро задремал, а Вэй Усянь же уткнулся взглядом в дымящийся суп на дальнем столике. \\r\\r\\n\\r\\r\\nВ голове медленно складывалась картинка. \\r\\r\\n\\r\\r\\nМясо в клане Лань нельзя — приглашенным ученикам тоже нельзя — кому можно? Только тем, кто принадлежит к главной ветви или является учеником Гусу Лань. Из всех, кто тут был, это — Лань Чжань. А если учесть, что он говорил с шицзе… то вообще красивая и логичная картинка получается. \\r\\r\\n\\r\\r\\nТолько вот… зачем? \\r\\r\\n\\r\\r\\nНарушить правила, которыми ты живешь… ради него? Что за глупость. Вэй Усянь откинулся на подушки, борясь с тошнотой и продолжая рассуждать. Ладно, предположим, что действительно ради него. Но сорвать урок? Собственноручно? Да еще и урок своего дяди? Не привлечь внимание Лань Цижэня на потерявшего сознание ученика, не позвать в класс лекаря, нет — взять его на руки и понести в павильон целителей.\\r\\r\\n\\r\\r\\nОт мыслей, что его несли на руках, щеки запылали. \\r\\r\\n\\r\\r\\nСвятая Гуаньинь, как деву — на руках, почти через все Облачные глубины-ы-ы! \\r\\r\\n\\r\\r\\nВэй Усянь приложил ладони к щекам и впился взглядом в сбитое одеяло. А сидеть три дня возле него зачем? Ну, принес и принес, что бубнить-то. Оставил бы у лекаря — и дело с концом. Под конец навестить, локву принести, кивнуть, торжественно мгмкнуть и удалиться походкой небожителя. \\r\\r\\n\\r\\r\\nСидеть-то и гнездо вить зачем?! \\r\\r\\n\\r\\r\\nВэй Усянь почувствовал, что у него окончательно закипают мозги. Может ли быть?.. Не-не-не! Это же Лань Чжань — ему только дев небесной красоты, божественного сияния и светлейших помыслов! А вот он… \\r\\r\\n\\r\\r\\nВэй Усянь опустил ладони, вглядываясь в них. Грубые руки, с мозолями… а вот он — упал. В Лань Чжаня. Как в омут. Только не в ледяной, а в теплый. Золотистый. Красивый. Как рассвет. \\r\\r\\n\\r\\r\\nГуй дери, право слово, о чем его мысли… \\r\\r\\n\\r\\r\\nЭто как в тех книжонках Не-сюна? Тех, которые он сам страшно прячет, отдает только под пару бутылей вина, три веера и четыре брусочка туши высшего качества? И никогда о них не говорит — улыбается только, как лис, очень хитро и сверкает ореховыми глазами. \\r\\r\\n\\r\\r\\nТех книжках, в которых про любовь. Про ту, где прячут под рукав, когда холодно, улыбаются чище родниковой воды, искрящейся в лучах солнца, обнимают крепче скал и гор. Про ту, от которой пылают щеки сильнее, чем от развратных картинок. Вэй Усянь прочел всего одну — и до сих пор помнит, как у него дрожали губы на моменте, когда Сяо Юй слепо потянулся вперед, к Да Ину, ожидая, что его оттолкнут. \\r\\r\\n\\r\\r\\nВ странице был пропуск, и Вэй Усянь боялся ее перелистывать. \\r\\r\\n\\r\\r\\nНе перелистывал, наверное, пока не минуло два солнца и от рассеянности он не получил синяк под глазом прямиком от четвертого шиди. А уж когда добрался до книжки, пальцами держал эту несчастную страницу. \\r\\r\\n\\r\\r\\nПерелистнул и закрыл глаза. \\r\\r\\n\\r\\r\\nЧерез цзы открыл. \\r\\r\\n\\r\\r\\nИ рассмеялся. \\r\\r\\n\\r\\r\\nСяо Юя притянули и держали в объятьях. Так долго, так долго, что у них день превратился в ночь. Никто никого не отталкивал. Сяо Юй дышал в шею Да Ина, Да Ин держал самого драгоценного человека в своих руках. \\r\\r\\n\\r\\r\\nУ Вэй Ина — дрожали губы. Он вцепился в книгу так, что и зубами было не вырвать. И тихонько запищал. Оказалось, что не тихо, и в следующий момент в него прилетела подушка Цзян Чэна, ворчащего, что ему не дает спать какая-то крыса на соседней постели. \\r\\r\\n\\r\\r\\nВэй Усянь улыбнулся, не отрывая взгляда от своих рук. \\r\\r\\n\\r\\r\\nИ выдохнул. Его мутило и очень хотелось спать. \\r\\r\\n\\r\\r\\nВ дверь негромко постучали, и он вздрогнул, совершенно не ожидая гостей. Цзян Чэн в изножье дернулся, но продолжил спать. За дверью продолжали стоять, и Вэй Ин, не совсем веря своему голосу, решил подняться и открыть самостоятельно. Голова кружилась, ноги почти подгибались, но он был близко — и к двери, и к супу шицзе, который способен был вывести его из спячки.\\r\\r\\n\\r\\r\\nВэй Усянь дернул ручку, впуская нежданного гостя, и замер. \\r\\r\\n\\r\\r\\nНа него смотрел Лань Чжань. \\r\\r\\n\\r\\r\\nИ такое ощущение, что его подменили — в золотистых глазах искры беспокойства, какой-то непонятной задумчивости и так много, много нежности, что поперек горла встал ком, а белые одежды и краски  помутнели. Вэй Усянь мужественно вцепился в косяк, не давая себе осесть прямиком на пол. Сильно это не помогло — его потянуло вперед. \\r\\r\\n\\r\\r\\nИ тут — воздух и белое в лицо. Теплые руки на плечах, сильная хватка, и золото-золото-золото глаз. Вэй Усянь чувствует себя сорокой, падкой на все блестящее. А еще — юной девой. Лань Чжань беззвучно подхватывает его,  перемещает руки на шею и поднимает второй рукой. \\r\\r\\n\\r\\r\\nИ все так правильно. \\r\\r\\n\\r\\r\\nОт этой правильности у Вэй Усяня готов пар из ушей пойти от того, как перехватывает дыхание и затапливает смущением. Лань Чжань невозмутимо возвращает его в постель, не забывая закрыть дверь. Со спокойным лицом протягивает вынутый из рукава эликсир, рукой касается воды в чаше и отжимает тряпку. \\r\\r\\n\\r\\r\\nВэй Усянь глотает невкусное нечто и внимательно следит за Лань Чжанем. \\r\\r\\n\\r\\r\\nТряпку кладут ему на лоб, задерживая пальцы на непозволительно-долгое время. Вэй Ин не против — от прикосновения в теле поселяется незнакомое ощущение тепла. После Лань Чжань приносит суп и с вопросом глядит. От чаши идет легкий пар, а запах свиных ребрышек, как обычно, пробуждает аппетит. Вэй Усянь кивает, и ткань слетает со лба. Лань Чжань улыбается, глядя на него и заботясь о нем.  \\r\\r\\n\\r\\r\\nЕдва-едва, уголками губ, с ласковым свечением счастья в глазах. \\r\\r\\n\\r\\r\\nВэй Усянь честно себе признается — на этот свет он готов смотреть вечность. Он мягкий, ласкающий, не обжигает и притягивает его, как мотылька, не давая и мяо покоя. Только смотреть-смотреть-смотреть, задыхаясь от невысказанного искренне-нежного восторга.  \\r\\r\\n\\r\\r\\nЛань Чжань кормит его с ложки, внимательно-чуткий, осторожный. \\r\\r\\n\\r\\r\\nУ него руки пахнут — горечавкой и пылью библиотечного павильона. Чернилами. Корнями лотоса. Лотоса? Вэй Усянь открывает глаза, всматриваясь в ладони Лань Чжаня. Ох, у него они тоже — грубые, с мозолями на кончиках пальцев. Лотосы… действительно пахнет ими. Вэй Усянь глядит из-под ресниц. \\r\\r\\n\\r\\r\\n— Лань Чжань, а, Лань Чжань? \\r\\r\\n\\r\\r\\n— Мгм? Осторожнее, Вэй Ин. \\r\\r\\n\\r\\r\\n— Это ты? — Он указывает взглядом на суп, и Лань Чжань ме-е-едле-енно кивает. Вэй Усянь давится лотосом, закашливаясь и давясь. В золотых глазах — волной поднимается беспокойство, едва-едва приподнимаются брови, приоткрывается рот, и Вэй Ин не может оторваться. Лань Чжань осторожно хлопает его по спине, протягивая ткань. Вэй Усянь хватает ее, вытирая рот. \\r\\r\\n\\r\\r\\n—  Мне помогала дева Цзян. Она сказала, что ты любишь этот суп. \\r\\r\\n\\r\\r\\nВсё. Десять из десяти. Точное попадание стрелой прямиком ему в сердце. \\r\\r\\n\\r\\r\\n— Лань Чжань, прошу, не обижайся! Я сейчас кое-что сделаю, хорошо? Ты можешь меня оттолкнуть, но… но я не обижусь! Все в порядке! Я сейчас кое-что сделаю! Можешь закрыть глаза, не волнуйся, ничего страшного не произойдет!.. — Лань Чжань действительно улыбается. Вэй Ин смотрит, дыхание сбивается. Он словно собирается прыгать с огромной высоты в ущелье с талой водой. \\r\\r\\n\\r\\r\\nЛань Чжань закрывает глаза. \\r\\r\\n\\r\\r\\nИ Вэй Усянь бросается вперед. \\r\\r\\n\\r\\r\\nПальцы касаются ткани, случайно трогают ленту, он лицом утыкается в ткань на плече, чувствуя, как под ладонями напрягаются и мгновенно расслабляются мышцы, в нос ударяет запах сандала, нос щекочут волосы, и Вэй Ин прижимается еще сильнее, практически перетягивая себя с постели на колени Лань Чжаня. \\r\\r\\n\\r\\r\\nОн позволяет себе слабость обнимать Лань Чжаня дольше, чем пообещал до этого. \\r\\r\\n\\r\\r\\nИ чувствует, как на лопатки ложатся другие, теплые, пахнущие горечавкой ладони. Сердце бешено колотится, и Вэй Усянь низко подвывает, вжимаясь в Лань Чжаня так сильно, что на мгновение почудилось, что нет ни Лань Чжаня, ни его, есть только они. \\r\\r\\n\\r\\r\\nОбъятия действительно заставляют его губы дрожать. \\r\\r\\n\\r\\r\\nЛань Чжань двигается, устраивая его удобнее, обнимая удобнее, становясь вообще удобным.\\r\\r\\n\\r\\r\\nСвоим. \\r\\r\\n\\r\\r\\nВэй Усянь не говорит ни слова. Лань Чжань — тем более. Но это молчание, все-таки, говорит больше огромных письмён в библиотечном павильоне вместе взятых. Они молчат и дышат практически в унисон. Мир сужается до одной точки и момента сейчас, который длится долго. Так долго, что успевает проснуться убито спящий Цзян Чэн. \\r\\r\\n\\r\\r\\n— На вас смотришь, и на зубах аж сахар скрипит, — честно поделился он, продрав глаза.  Вэй Усянь вздрагивает и отлипает лицом от белоснежного ханьфу Лань Чжаня. И уже ожидает, что его спихнут на пол за столь ужасное нарушение личных границ. Но — его только приобнимают крепче, не давая съехать с колен. \\r\\r\\n\\r\\r\\nЛань Чжань с несколько мяо смотрит ему в глаза, и — наклоняется, оставляя мимолетный поцелуй в уголке губ. Вэй Усянь чувствует, что почти теряет сознание, Цзян Чэн закрывает глаза и с закрытыми глазами уходит из покоев вон. Слышен восторженный победный крик Цзян Яньли и восклицание Цзян Чэна. \\r\\r\\n\\r\\r\\nЛань Чжань снова его обнимает. \\r\\r\\n\\r\\r\\nВэй Усянь выдыхает и признается — в этих объятьях действительно можно быть вечность. \\r\\r\\n\\r\\r\\nИли две. \\r\\r\\n\\r\\r\\nА впрочем, чисел не хватит.","10":"864"},{"1":"3","2":"/readfic/10399096","3":"Волосы цвета траура","4":"/authors/5199574","5":"Nightmares Little","6":"1","7":"Неукротимый","8":"Введение","9":"Миг запомнился особо хорошо в воспалённом болью мозгу. Укусы, рассредоточенные по всему телу из-за ходячих мертвецов. Разъярённые крики толпы вдалеке, ведомые ненавистью. Все, собравшиеся здесь, с упоением смотрят на последние минуты жизни Старейшины Илин. Свершилось правосудие! Всем, так или иначе, воздастся за свои поступки! Небеса милостивы и справедливы!\\r\\r\\n\\r\\r\\n        Искажённые злостью лица не отводили своих глаз. Вэй Усяню было не до них. Куски за кусками, теряя плоть и кровь, алые глаза искали знакомую фигуру среди адептов в траурных одеждах. Увидеть его напоследок. Запомнить черты. Попрощаться.\\r\\r\\n\\r\\r\\n        Нет. Лань Ванцзи не пришел. Смиренная улыбка явила себя на лице. Губы безвучно зашевелились, но слова не успели сорваться. Взгляд, перенаправленный на Цзян Чэна, потускнел. Узел красной ленты ослаб, а ветер унёс её на небольшое расстояние. \\r\\r\\n\\r\\r\\n        Небо, заволоченное тучами, казалось, потемнел ещё больше. Хлынули первые капли дождя, усилился ветер. Ликующим заклинателям погода не испортила настроение. Это небо наказывает открывателя Темного Пути. Это небо на их стороне. Раздался грохот, молния ударила в землю. \\r\\r\\n\\r\\r\\n        От трупа не осталось и целого места: Ходячие мертвецы разодрали её, не оставив и костей. Лоскуты ткани, что осталось из одежды, потрёпанные, грязные, валялись никому не нужные. \\r\\r\\n\\r\\r\\n        Так положили конец злодеянием Старейшины Илин. Так этот день превратили в праздник.","10":"47"},{"1":"4","2":"/readfic/9952408","3":"Проверка на прочность","4":"/authors/3889954","5":"Cold-BloodedDevil","6":"52","7":"Неукротимый","8":"Семья","9":"На утро я уже не чувствовал себя настолько истощённым. Но тяжесть всея мира обрушилась на меня сразу после осознания произошедших событий. Можно я продолжу дальше спать и забуду про всё, что произошло?\\r\\r\\n\\r\\r\\nВообще с самого утра всё пошло к чёрту. Хотя я и есть чёрт… Ну в общем всё началось с того, что я чуть ли не свалился с кровати. Мне приснился действительно страшный сон… Как только я встал, перед глазами всё резко потемнело и куда-то поплыло. Держу пари, учитель Лань сейчас чувствует себя гораздо лучше, чем я.  \\r\\r\\n\\r\\r\\nКогда я вышел из своей комнаты, то чуть ли не сразу наткнулся на Фею, которая почему-то бегает по всей округе. Где этот непослушный ребёнок? Почему он не держит свою собаку при себе!?\\r\\r\\n \\r\\r\\nКак только я от неё оторвался, это было, кстати, довольно сложно и теперь моё сердце колотилось как бешеное, мне не пришло в голову занятие лучше, как бессмысленно скитаться по Пристани Лотоса. \\r\\r\\n\\r\\r\\nСейчас я чувствую себя тем маленьким беззащитным ребёнком, который скитался по неизвестному ему миру, убегал от собак и пытался выжить. Единственное, что сейчас поменялось это то, что у меня есть Цзян Чэн, Цзинь Лин, А-Юань и Вэнь Нин. Кстати говоря, о них, я их не видел со вчерашнего вечера. Вообще думаю, Вэнь Нин с Лань Юанем вернулись в ГуСу или ещё куда. У них же есть свои дела и некогда им просто так тут торчать. \\r\\r\\n \\r\\r\\nЯ просто снова никому не нужный человек.\\r\\r\\n\\r\\r\\n- Дядя Вэй, дядя Вэй, - вдруг послышалось где-то сзади. Это был голос Цзинь Лина. Так странно слышать это обращение от него.\\r\\r\\n \\r\\r\\n- Почему ты тут шатаешься? Тебя заждались все. \\r\\r\\n\\r\\r\\n- Меня? Все? М-меня кто-то где-то ждёт? – мои глаза стали размером с орбиту. \\r\\r\\n\\r\\r\\n- О господи…, - Цзинь Лин драматично закатил глаза, - ты забыл, что дядя вчера вечером просил тебя прийти и вместе со всеми позавтракать? \\r\\r\\n\\r\\r\\n- А, - я виновато почесал затылок, - я совсем забыл.\\r\\r\\n\\r\\r\\n- Пошли скорее, - я ничего не успел понять, как Цзинь Лин схватил меня за руку и куда-то побежал. Ещё чуть-чуть и я бы встретился лицом с землёй. \\r\\r\\n\\r\\r\\nМы довольно быстро добежали до главного зала. Там нас уже ждал Цзян Чэн. \\r\\r\\n\\r\\r\\n- Где это ты так долго шлялся? – он грозно посмотрел на меня, но при этом мне не казалось, что в любой момент на меня могут накричать или чего похуже. Как будто он этим взглядом показывает своё беспокойство. \\r\\r\\n\\r\\r\\n- Прости, прости, я совсем забыл про…\\r\\r\\n\\r\\r\\n- Господин Вэй! - раздалось радостно возле меня, - Мы очень волновались за вас. Вэнь Нин пришёл к вам в покои, а вас там нет. \\r\\r\\n\\r\\r\\n- Не стоит так за меня беспокоиться, я просто гулял. \\r\\r\\n\\r\\r\\n- Ну, раз просто гулял, - вдруг заговорил Цзян Чэн, и я повернул голову к нему, - должен был уже нагулять аппетит. Садись, сегодня мы едим все вместе. \\r\\r\\n\\r\\r\\nЧестно, я был в шоке. Цзян Чэн никогда не проявлял такой заботы по отношению ко мне. И он даже Вэнь Нину позволяет находиться в Пристани Лотоса. \\r\\r\\n\\r\\r\\nЯ не стал медлить и сел за стол, остальные тоже сразу подсели к нам. Вот так вместе мы никогда не сидели. Я чувствую себя так хорошо в кругу «семьи». \\r\\r\\n\\r\\r\\nВо время еды никто не говорил. Каждый наслаждался этим прекрасным моментом и не хотел портить дружескую атмосферу. Но тут…\\r\\r\\n\\r\\r\\n- Глава ордена, - сказал подошедший приближённый Цзян Чэна, - орден Цин Хе Не приглашает вас и орден Лань на ночную охоту. \\r\\r\\n\\r\\r\\nОрден…\\r\\r\\n\\r\\r\\nЛань…\\r\\r\\n\\r\\r\\nМеня прошибло мелкой дрожью. Всё тело трясло. Руки задрожали так, что палочки выпали из них. А мир вновь перевернулся с ног на голову.\\r\\r\\n\\r\\r\\n- Вэй Ин.\\r\\r\\n\\r\\r\\nПеред глазами резко потемнело. \\r\\r\\n\\r\\r\\n-Вэй Ин!\\r\\r\\n\\r\\r\\nА теперь и полетело куда-то. Но сильные руки поймали меня. \\r\\r\\n\\r\\r\\n- Вэй Ин, всё хорошо? Ты в порядке? – голос Цзян Чэна был взволнованным. \\r\\r\\n\\r\\r\\nПеред глазами всё ещё было темно и как-то мутно. Я попытался сморгнуть эту муть и увидел четыре шокированных пары глаз, смотрящих на меня.\\r\\r\\n\\r\\r\\n- В-все хорошо, - чёрт, почему голос так предательски дрожит, - я в п-порядке. \\r\\r\\n\\r\\r\\n- Не надо лгать мне, Вэй Ин, мы росли вместе, я вижу, что у тебя все не в порядке. Если  тебе больно или плохо или ещё что, не пытайся спрятаться. Ты можешь поговорить с любым из нас. \\r\\r\\n\\r\\r\\n- Знаешь, я бы с тобой не говорил, - подал голос Цзинь Лин.\\r\\r\\n\\r\\r\\n- Заткнись, или я тебе ноги переломаю.\\r\\r\\n\\r\\r\\nОт таких перепалок Цзян Чэна и Цзинь Лина всегда веет семейной заботой, пускай и немного грубой, мне даже как-то легче стало. И именно сейчас я почувствовал, что могу выговориться и снова показать со стороны не сильного Старейшины Илин, а со стороны слабого и болью убитого Вэй Усяня.\\r\\r\\n\\r\\r\\n- Я-я, - глаза стали наполняться слезами, а голос опять задрожал, - я правда не п-понимаю, почему он вдруг меня бросил!? У нас всё было так х-хорошо, он так заботился обо мне. Сильно з-заботился, иногда даже чересчур. Почему же он так п-поступил со м-мной!? Цзян Чэн, я не знаю, к-как мне жить без него!? Без его заботы…, - слёзы стали ещё сильнее течь из моих глаз, я чувствовал себя таким истощённым. Лишь руки, держащие меня, не давали упасть. Я чувствовал, как Цзян Чэн всё сильнее и сильнее сжимает меня с каждым произнесённым словом. А я, уже не сдерживаясь, начал всхлипывать, утыкаясь А-Чэну лицом куда-то в район шеи. \\r\\r\\n\\r\\r\\n- Всё хорошо, я рядом, - успокаивающая рука стала гладить меня по спине. \\r\\r\\n\\r\\r\\nЯ в безопасности. Я чувствую, что нахожусь в безопасности. \\r\\r\\n\\r\\r\\nСпустя неделю.\\r\\r\\n\\r\\r\\nПогода сильно испортилась. На улице с самого утра шёл сильный ливень. Мы с Цзян Чэном сидели в главном зале и обсуждали, стоит ли сейчас идти на охоту организованную орденом Не. \\r\\r\\n\\r\\r\\n- Ты должен пойти, иначе другие могут не то подумать, - я уже вечность пытаюсь уговорить его, но он упёрся и не слушает.\\r\\r\\n\\r\\r\\n- Я сказал нет, значит нет. Вэй Ин, я не хочу оставлять тебя здесь одного, особенно в такой момент.\\r\\r\\n\\r\\r\\n- Цзя…, - я хотел снова возразить, но Цзян Чэн резко встал, сильно ударив Цзыдянем по полу. Я вздрогнул.\\r\\r\\n\\r\\r\\n- Мы останемся здесь и никуда не пойдём, - уже спокойнее добавил А-Чэн, - Я знаю, что тебе сейчас нелегко, поэтому не хочу покидать тебя. \\r\\r\\n\\r\\r\\nМесяц спустя.\\r\\r\\n\\r\\r\\nЯ уже потихоньку привыкаю жить без Лань Чжаня. Вроде бы не так уж и сложно. Цзян Чэн старается меня одного не оставлять и постоянно крутится рядом со мной либо не даёт мне уйти от себя. \\r\\r\\n\\r\\r\\nНо всё равно по вечерам в своих покоях меня накрывает по полной. И я лежу так, свернувшись калачиком, и уперевшись лицом в колени, тихонько плачу. Лишь бы не услышал Цзян Чэн, я не хочу, чтобы он ещё больше переживал за меня. \\r\\r\\n\\r\\r\\nПравда, в один день он все же застал меня в одном из таких приступов.\\r\\r\\n\\r\\r\\nБыло уже довольно поздно, а мне не спалось.  Делать было нечего, вот мысли и улетели обратно к Лань Чжаню. Почему-то именно в этот день мне решились вспомниться наши самые счастливые моменты. Я лежал на кровати, укутавшись одеялом, и сильно дрожал. Мне было настолько плохо, что я уже не мог сдерживать сильных и рваных всхлипов. \\r\\r\\n\\r\\r\\nА Цзян Чэн в этот момент решал какие-то свои дела и ненароком прошёл рядом с моей комнатой. Он очень сильно перепугался, так как я был весь мокрый и лихорадочно дрожал. \\r\\r\\nЧуть позже оказалось, что я умудрился заболеть. Ну да не надо ночами под дождём гулять. Такое тоже случалось в моменты сильной тоски. \\r\\r\\n\\r\\r\\nСпустя полгода. \\r\\r\\n\\r\\r\\nЯ как обычно прогуливаюсь по Пристани лотоса. Это так успокаивает. Иногда со мной гуляет Цзинь Лин и мы подолгу болтаем о всякой всячине. Вообще мы часто стали с ним заниматься всякой ерундой. Я чувствую себя беззаботным подростком. Правда я вообще не пользовался духовными силами с того момента. Да и тёмными силами тоже. Сейчас мой образ жизни похож на жизнь обычного человека. Я чувствую, как с каждым днём становлюсь все слабее и слабее. Без практики моё тело совсем ослабнет. \\r\\r\\n\\r\\r\\nЦзян Чэн из-за этого сильно беспокоится.\\r\\r\\n\\r\\r\\n- Вэй Ин, хватит себя убивать. Попробуй хотя бы иногда совершенствоваться. Посмотри на себя, синяки под глазами, весь какой-то бледный, кости тонким слоем кожей обтянуты. Да ты на зомби похож. \\r\\r\\nНе знаю, сил что-либо делать нет, да и не хочется. Зачем мне это надо. Только напоминать будет о не самых лучших временах.\\r\\r\\n\\r\\r\\nСейчас мне уже гораздо лучше морально. Спустя ещё время я смогу совсем обо всём забыть и жить спокойнее. Думаю так будет даже лучше. \\r\\r\\n\\r\\r\\n\\r\\r\\n","10":"260"},{"1":"5","2":"/readfic/9994539","3":"Поменявшиеся - Экстры (Switched - Extras)","4":"/authors/572588","5":"Aiky","6":"4","7":"Неукротимый","8":"Глава 9 CQL: Спрашивать советы в Reddit - не лучшая идея","9":"r / AmItheAsshole • опубликовано u / strongwifi \\r\\r\\n…………………………………………………….\\r\\r\\n \\r\\r\\nБуду ли я мудаком, если я выставлю за дверь беременную знакомую?\\r\\r\\n\\r\\r\\n…………………………………………………….\\r\\r\\n      Итак, я (28, М) и мой партнер (22, М) совсем недавно обручились. Мы живём вместе несколько месяцев, но из-за нашей работы редко проводим время вместе (я графический дизайнер, он мотогонщик). После почти полумесячных задержек на работе я, наконец-то, смог освободиться пораньше. Мы давно не ужинали вместе, поэтому я решил приготовить тушеное мясо для нас двоих и посмотреть наши любимые фильмы во время ужина. Я уже купил ингредиенты, всё было спланировано и готово для нашего идеального домашнего свидания.\\r\\r\\n\\r\\r\\n      Но когда я приехал домой, то обнаружил знакомого с его мужем в нашей гостиной. Он играл с моей кошкой, а его муж молча за ними наблюдал. Я буквально закричал и выронил продукты (мои яблоки для десерта теперь побитые QAQ). Итак, эти мои знакомые живут очень-очень далеко (я не преувеличиваю, они живут совершенно в другом мире). Они здесь из-за прескверных обстоятельств, которые я не могу объяснить, они не могут вернуться из-за других обстоятельств, которое я также не могу объяснить (допустим, демон переправил их сюда, поэтому им нужен демон, чтобы вернуться обратно). Слишком сложно объяснить, почему они здесь и почему они не могут вернуться, но я всего лишь хочу сказать, что этому моему знакомому и его мужу некуда идти.\\r\\r\\n\\r\\r\\n      Они здесь без денег, они приехали из настолько отдалённого места, что там нет машин, интернета и даже электричества. Обычно я протягиваю руку помощи любому нуждающемуся знакомому, но не так давно эти люди доставили мне некоторые неприятности. Мой знакомый почти испортил мою репутацию, сказав вещи, которые нельзя было говорить, или неуместно формулировал их, травмировал моих коллег каким-то оккультным ритуалом (он увлекается демоническими штуками, вроде талисманов и духовной атрибутики), и много раз подвергал мою жизнь смертельной опасности (серьёзно, я чуть не подорвался). Его муж разбил супердорогой мотоцикл моего жениха. Кроме того, эти двое как-то раз подглядывали за нами, когда мы с моим женихом были близки, и это было очень неловко. Они вошли незаметно и наблюдали за нами в течение трёх часов.\\r\\r\\n\\r\\r\\n      Я поклялся, что если я когда-нибудь снова увижу этих двоих, то я обрею их налысо и кастрирую - вот как я их ненавижу. Однако мой знакомый сейчас на 36 неделе беременности и может в любой момент родить. Как бы мне ни хотелось выгнать их из своей квартиры, я считаю неправильным так обращаться с беременным человеком. Тем не менее, я просто боюсь, что если я позволю им остаться, они сожгут наш дом, пытаясь что-нибудь приготовить, пока мы на работе. У моего жениха совсем пропал аппетит, как только он увидел мужа моего знакомого, потому что это напомнило ему о его любимом разбитом мотоцикле.\\r\\r\\n\\r\\r\\n      Стану ли я мудаком, если вышвырну из дома моего беременного знакомого и его мужа?\\r\\r\\n\\r\\r\\n……………………………………………………. \\r\\r\\n692 комментария • Поделиться • Сохранить • Скрыть • Пожаловаться\\r\\r\\n…………………………………………………….\\r\\r\\n \\r\\r\\nОпрос:\\r\\r\\n…………………………………………………….\\r\\r\\nYTA: Ты мудак (а не они)\\r\\r\\n\\r\\r\\nNTA: Ты не мудак (а они)\\r\\r\\n\\r\\r\\nESH: Здесь все мудаки\\r\\r\\n\\r\\r\\nNAH: Здесь нет мудаков\\r\\r\\n\\r\\r\\nINFO: недостаточно информации \\r\\r\\n…………………………………………………….\\r\\r\\n \\r\\r\\n\\r\\r\\ntrashybin\\r\\r\\n…………………………………………………….\\r\\r\\nESH. Я полностью понимаю Ваши чувства, потому что Ваша ситуация очень напоминает ситуацию моего коллеги по работе. У него также есть знакомая, которая балуется демоническими искусствами и причиняет вред тут и там. Однако будет не хорошо выгнать беременную женщину просто потому, что она Вам не нравится. По крайней мере, Вы можете отправить их в больницу и позволить социальным работникам помочь им справиться со всеми трудностями, с которыми они столкнулись.\\r\\r\\n\\r\\r\\nps: почему Вы продолжаете писать «он», когда имеете в виду свою знакомую? Как можно постоянно делать одну и ту же опечатку?\\r\\r\\n…………………………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            killerjoy\\r\\r\\n            …………………………………….\\r\\r\\n            Согласен, ESH. Ваши знакомые - мудаки, потому что делали с Вами все эти плохие вещи, но ещё не рождённый ребёнок не виноват. Отправьте их в больницу.\\r\\r\\n            …………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            Chengcheng\\r\\r\\n            …………………………………….\\r\\r\\n            Согласен. Каким бы ужасным ни был человек, это не даёт Вам право быть м%ком. Никогда не забывайте элементарную порядочность. Ребёнок не виноват.\\r\\r\\n            …………………………………….\\r\\r\\n            Ещё 17 ответов\\r\\r\\n            …………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\nlabracadabrador\\r\\r\\n…………………………………………………….\\r\\r\\nINFO. Ваши знакомые какие-то беженцы из стран третьего мира или из очень удаленных районов? Это объяснило бы все «плохие вещи», которые они делали - например, неверные формулировки фраз или поломку дорогого мотоцикла. И почему о них никто не знает, и они не могут вернуться? Возможно, они жертвы торговли людьми? В таком случае власти смогут помочь Вашим знакомым, и Вам не придётся думать об этом. Кстати, как они попали в Вашу квартиру?\\r\\r\\n…………………………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            retriepupble\\r\\r\\n            …………………………………….\\r\\r\\n            Полагаю, его жених был дома и впустил их?\\r\\r\\n            …………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            harley_queen\\r\\r\\n            …………………………………….\\r\\r\\n            Согласен с labracadabrador. На самом деле, чем больше я читаю этот пост, тем меньше я вижу в нём смысла. Может автор это всё выдумал?\\r\\r\\n            …………………………………….\\r\\r\\n            Ещё 12 ответов\\r\\r\\n            …………………………………….\\r\\r\\n \\r\\r\\n\\r\\r\\nstan_rose\\r\\r\\n…………………………………………………….\\r\\r\\nСогласен с другими комментариями, чем больше я читаю это, тем больше я нахожу всё это подозрительным. Однако слишком много странных деталей, чтобы это было фейком.\\r\\r\\n…………………………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            lala_lilisa\\r\\r\\n            …………………………………….\\r\\r\\n            YTA. Автору за то, что запостил фейковую историю.\\r\\r\\n            …………………………………….\\r\\r\\n \\r\\r\\n\\r\\r\\n            bo1nkbo1nk_sendtoad5\\r\\r\\n            …………………………………….\\r\\r\\n            Не знаю, возможно, автор должен скрывать некоторые детали, если речь идет о незаконных вещах. Неважно, он спрашивает, будет ли он мудаком, если выгонит беременную женщину, так он будет.\\r\\r\\n            …………………………………….\\r\\r\\n            Ещё 8 ответов\\r\\r\\n            …………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\nepsteinhereyall\\r\\r\\n…………………………………………………….\\r\\r\\nУ меня так много вопросов без ответа. Автор пытается написать дерьмовую фантастическую книгу?\\r\\r\\n…………………………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            mynameisjeff1\\r\\r\\n            …………………………………….\\r\\r\\n            Я никогда не видел более фейковых историй, чем эта. Было бы весело, если бы автор действительно скрывал дома беременную пару пришельцев.\\r\\r\\n            …………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            Bowsettechan\\r\\r\\n            …………………………………….\\r\\r\\n            Это отстой уровня Нила Брина.\\r\\r\\n            …………………………………….\\r\\r\\n            Ещё 21 ответ\\r\\r\\n            …………………………………….\\r\\r\\n \\r\\r\\n\\r\\r\\nОБНОВЛЕНО:\\r\\r\\n…………………………………………………….\\r\\r\\n      Многие из вас скептически отнеслись к моей истории, но это уже не имеет значения, раз я уже вынес вердикт. Похоже, все согласны с тем, что бросить моего беременного знакомого будет глупо, независимо от наших с ним прошлых отношений. В любом случае, я не могу доставить его в полицию или в больницу, так как у него нет удостоверения личности, но я постараюсь найти способ вернуть его домой до того, как он родит. Всем спасибо; D\\r\\r\\n\\r\\r\\n      PS : Чтобы дать вам представление о том, насколько ужасна эта демоническая сущность, мы поделились с ними тушёным мясом, и он пожаловался, что приготовленная мной еда была недостаточно острой, а когда он съел почти всё, его стошнило. Моему жениху пришлось бежать в ближайший магазин 7-Eleven, чтобы купить соевое молоко, потому что он сказал, что может есть только суп и соевое молоко. Ему нельзя было холодное соевое молоко, поэтому нам пришлось его погреть, и он настоял на том, чтобы мы использовали микроволновую печь вместо плиты, просто потому, что ему захотелось посмотреть, как в ней загорается свет, а миска внутри вращается. У него такой большой живот, что нам пришлось уступить кровать, и мы спали на крошечном раскладном диване (мне пришлось всю ночь обниматься со своим женихом, так что за это их можно и простить). Также, у меня нет дома одежды для беременных, по понятным причинам, и единственная одежда, которая подошла бы ему, - мои зимние джемперы, которые он не хочет носить, потому что в них слишком жарко.\\r\\r\\n\\r\\r\\n      В любом случае, я всё ещё ненавижу его.","10":"282"},{"1":"6","2":"/readfic/9829688","3":"Пепел и пряности","4":"/authors/3925","5":"Sh.R","6":"79","7":"Неукротимый","8":"Вместо эпилога","9":"— Так, значит, во всем опять виноват Сюэ Ян!\\r\\r\\n\\r\\r\\nСамым странным в этом было то, что Цзян Чэн не бесился — только делал вид. Вэй Усянь хорошо в этом разбирался. Возможно, все дело было в облегчении, который тот испытал, поняв, что племяннику ничто не грозит.\\r\\r\\n\\r\\r\\n— Ну как — виноват, — Вэй Усянь повертел в пальцах цянькун, в котором хранилась душа Сяо Синчэня. Сейчас тот пытался освоиться в новом теле, и в отдельном хранилище больше не нуждался. — Он знал, что где-то существует обряд, позволяющий вселить душу в добровольно пожертвованное тело, но не знал, где эта запись. Поэтому, по своему разумению, написал нужные руны на мешочке и чертеже — видимо, в городе И были проблемы с нормальной бумагой. И раз Цзинь Гуанъяо не пожелал занять предложенное ему тело, его занял Сяо Синчэнь! Единственным условием было — душа должна снова собраться из осколков. И видимо, Сунь Ланю это удалось!\\r\\r\\n\\r\\r\\nЦзян Чэн брезгливо поморщился и отвел взгляд:\\r\\r\\n\\r\\r\\n— Ты все еще собираешься заниматься этим вот?..\\r\\r\\n\\r\\r\\n— Только по мере надобности, обещаю! Ты же не собираешься снова открыть охоту на последователей Темного пути?\\r\\r\\n\\r\\r\\nВэй Усянь по привычке широко улыбался, хотя и чувствовал себя очень неуютно. Одновременно было что-то успокаивающее в том, чтобы чувствовать себя неуютно рядом с братом: тот ничего не замечал и не выспрашивал.\\r\\r\\n\\r\\r\\nНекоторые вещи никогда не менялись.\\r\\r\\n\\r\\r\\n— Только на самых наглых, — хмыкнул тот и снова нахмурился. — Вэй Усянь. Ты выглядишь почти как вменяемый заклинатель. Если ты хочешь снова стать нормальным…\\r\\r\\n\\r\\r\\n— Нет, — тихо и твердо отрезал Вэй Усянь. — Я не оставлю Лань Чжаня. Он может жить в Облачных Глубинах или в Дунъине, на дне моря или на луне — я все равно вернусь к нему.\\r\\r\\n\\r\\r\\n— То есть то, что я твой брат, теперь для тебя ничего не значит? Интересно, чем он лучше меня? — это прозвучало практически обиженно. Что, в сущности, было правдой.\\r\\r\\n\\r\\r\\n— Я могу заходить к тебе в гости как к брату, если ты позволишь. Но то обещание. Не проси меня больше исполнить его. Я уже говорил, я не смогу его исполнить. Не больше, чем просто помогать, приходить в гости и быть не самым образцовым дядюшкой Цзинь Лину!\\r\\r\\n\\r\\r\\nЦзян Чэн немного помолчал и вздохнул, нахохлился недовольно:\\r\\r\\n\\r\\r\\n— Как вообще так вышло? Лань Ванцзи всегда славился своей сдержанностью, он бы никогда…\\r\\r\\n\\r\\r\\n— Лань Чжань бы каждый день! — фыркнул Вэй Усянь, любуясь, как вспыхивают щеки брата при одном намеке. — Просто… ну не сложилось у нас раньше, понимаешь?\\r\\r\\n\\r\\r\\n— Не понимаю. Я бы и тогда прибил вас обоих!\\r\\r\\n\\r\\r\\nВэй Усянь чуть прищурился и посмотрел на него:\\r\\r\\n\\r\\r\\n— А сейчас?\\r\\r\\n\\r\\r\\nЦзян Чэн отвернулся и посмотрел вдаль — туда, где на хрупком мостике его ждал Не Хуайсан, коротая время за кормежкой карпов.\\r\\r\\n\\r\\r\\n— А сейчас я вожусь с тобой и этим беспомощным ребенком, чтобы угодить какому-то там духу, а потом не сплю по ночам, разбираясь с последствиями твоих изобретений! — отрезал тот и отвернулся, зашагал прочь.\\r\\r\\n\\r\\r\\n— Это не ответ, Цзян Чэн! — забавляясь, прокричал вслед Вэй Усянь.\\r\\r\\n\\r\\r\\n— Отвали, придурок!\\r\\r\\n\\r\\r\\nИ прозвучало это как «Заходи при случае на чай».","10":"213"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Чтение текста
Прочитать файл полностью можно с помощью функций из пакета <code>readr</code>: <code>read_file()</code> и <code>read_lines()</code>.
<strong>NB!</strong> <code>read_file()</code> будет работать очень долго, если размер текста большой.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="работа-со-строками.html#cb45-1" aria-hidden="true" tabindex="-1"></a>my_file <span class="ot">&lt;-</span> <span class="fu">read_file</span>(<span class="st">&quot;data/Cox_Forshaw_WHy_E_equals_mc_squared_ocr.txt&quot;</span>)</span>
<span id="cb45-2"><a href="работа-со-строками.html#cb45-2" aria-hidden="true" tabindex="-1"></a>my_file</span></code></pre></div>
<pre><code>## [1] &quot;ПОМI N1% /;\r\nIII г2’»\r\nпо\tона может принимать разные\r\n„ труднее определить.\t„„ происходило, общее к„.\r\nЭнергию Р&gt; тоЧНо очевиден.\tаТЬСя неизменным не-\r\n,;.г,ои процессе\tэмми №тер дала нам\r\nзависимо от изменения других\tп&lt;)Т0Му, что законы физики\r\nглубокое объяснение. Энергия ^\tутверЖде„ие не означает, что\r\nис изменяются с течением прем\tосто бессмысленно. На самом\r\n„„чего не происходит - это Ьъ спрапедлипы сегодня, деле оно означает, что если уН»\tВы можете заменить ело-\r\nто „ни должны быть 2»™Л;В“ла,, любым другим фундаментальным\r\nвосочетание «уравнения Максвелл\tмер.\r\nзаконом физики-постулатами Эинште\tимпульса, закон со-\r\nВместе с тем, как и в случае закона сохранения . У ^\t„\r\nхранения энергии был открыт экспериментальным )\t•\r\nоткрытия восходит к промышленной революции. Все началось с раоо эксиериментаторов-практиков, которые обнаружили множество с. „„четких и химических явлений в поисках промышленного Иерусалима-К числу таких людей относился и несчастный граф Румфорд Баварский (рожденный под именем Бенджамин Томпсон в Массачусетсе в 1753 году I, работа которого состояла в высверливании каналов в пушечных стволах для армии герцога Баварии. В процессе работы он обратил внимание, что металл пушечного ствола и сверло нагреваются, и справедливо предположил, что вращательное движение сверла превращается в тепло под воздействием трения. Это прямо противоположно тому, что происходит в паровом двигателе, где тепло преобразуется во вращательное движение колес поезда. Казалось вполне естественным связать некую общую величину с теплом и вращательным движением, поскольку, как выяснилось эти две на первый взгляд совершенно разные вещи взаимозаменяемы Эта величина - энергия. Румфорда называли несчастным, потому что\r\nон женился на вдове другого великого ученого, Антуана Л тш,-\r\n’\t7 ,ав&gt;лзье, после\r\nтого как тот во время Французской революции сложил голову н » п\r\nтине. Румфорд ошибочно решил, что эта женщина будет делать дЛ},\r\nто же, что и для Лавуазье, прилежно записывая все результаты СГо *\&quot; °\r\nботы и повинуясь ему, как полагалось хорошей жене в XVIII ст,„1СПи Но оказалось, она проявляла кроткость только под давлением железног\r\nра-\r\nолетиц.\r\nпо\r\n«ЕМ*\r\nЖ*\r\n(. тс*7\r\nII\r\n, л..у&gt;»&#39;- в св°ей ммеЧаТе\&quot;ЬНОЙ книге 1 Ьс Оием Гог АЬзо1ц1с 2его-Мендельсон писал, что эта женщина превратила жизнь графа Ру„.\r\nВ1\r\nКУРТ\r\n„ „ яп Но главное не это, а то, что энергия всегда соуп™ ,\r\nхорда в ад-\t_\tг ^да сохраняется, имен-\r\n* п^тШу она вызывает такой интерес.\r\nяо ПОЭ 7\r\nПопросите кого-либо на улице объяснить, что такое энергия, -й получите либо осмысленный ответ, либо кучу всякого вздора в духе „ью-эйдж” В массовой культуре существует много разных значений слова «энергия», поскольку оно употребляется очень широко. Следует отметить, однако, что на самом деле есть точное определение энергии, которое нельзя использовать для объяснения лей-линий***, исцеления кристаллами, жизни после смерти или реинкарнации. Здравомыслящий человек мог бы сказать, что энергию можно хранить внутри аккумуляторной батареи, где она находится в состоянии ожидания до тех пор, пока кто-то не «замкнет цепь». Кто-то другой, возможно, возразит, что энергия — это показатель количества движения и что быстро движущиеся объекты обладают большей энергией, чем более медленные. Энергия, которую содержит море или ветер, — вот еще примеры определений. Вам могут также сказать, что горячие объекты содержат больше энергии, чем холодные. Гигантский маховик, который находится вн\\ три электростанции, может накапливать энергию, которая высвобожда ется затем в электросеть для удовлетворения потребностей населения в электроэнергии. Кроме того, энергия выделяется в процессе деления .томного ядра. Это только несколько примеров присутствия энергии в повседневной жизни. Во всех этих сяучаях физик,, могут представить\r\nгЬпоме и использовать эту информацию для энергию в количественной фор«\t^\t,ффеИ\r\nподведения\t“менным общее количество энергии,\r\nлюбого процесса сохран\r\n--------------- Мендельсон К. А. Г. На пути к абсолютному нулю: Вве-\r\n* ИЗДаНЗ «&#39;у низких температур. М.: Атомиздат. 1971. пение в физику ”\r\nм\t^\tокупности различных мистических течении и движе-\r\nОбщее название со УгноГО, эзотерического и синкретического характера.\r\nНИЙ. В ОСНОВНОМ окк&gt;\r\nПрим, ред-\t^ места на поверхности Земли, которым свойственно прояв-\r\n... Предположителен _ энеррии&gt;&gt; Прим авт_\r\nление\r\n112\r\nсохранения энергии в действу\r\n. . . .у-П 1\\|« 111\r\nДпя того чтобы увидеть закон сохр,,,.^...\r\nследпии раз вернемся к сталкивающимся билья &#39;\r\n-»\&quot;«й из них обладает определенной\t«ч-*\r\nтог\r\nв ПОС\r\nм\r\n:д.\r\nю№ 11\t«***•«*з........,«* ««у»\t««««^\r\n“;„Г«ое,о да»*&#39;»»\&quot;&#39; Некого языка слоя., «кинетический. ^\r\nили возникающий вследствие яви*..,,\r\nделястся как «обусло\r\n— * и\r\nтермин. Ранее мы исходили из того, что д„а 111а^ ____стью и имеют одинаковую массу. Затем &lt;*,\r\nтак что это правильный\t....\r\nс одинаковом скор0^ -^ ^ ^ с равной скоростью в проп\r\n— - -ал»* 11/ЭПЛ Г* ПТЧП !«!/&gt;.\r\nДВИЖУТСЯ С ОДИН» --- •\r\nсталкиваются и отскакивают И —■ ^ значите/1ЬНОЙ мере продиктова\r\nположных направлениях. .\tтщательный анализ ситуации па\r\n.законом сохранения импульса. Б««™*\tле\r\nзлоллет определить, что скорость движения шар\r\nнемного ...к. их скорости „о столкновения. Это объясняется темли\r\nчаек начальной энергии рассеялась во время столкновения. Наиболее\r\nочевидное рассеяние энергии — переход ее части в звук. Когда бильярд\r\nные шары сталкиваются друг с другом, они воздействуют на молек.\r\nвоздуха, и это возмущение достигает наших ушей. Таким образом, час:\r\nначальной энергии теряется, из-за чего у шаров после столкновения оста\r\nется меньше энергии. С точки зрения темы данной книги нам на само *\r\nделе не нужно знать, как измерить энергию во всех ее проявлениях, хот-\r\nфьрмул. кинетической энергии нал, „се же пригодится немного позже\r\nКаждый, кто изучал л средней школе физику, навсегда запомнил эту фор мулу, кинетическая энергия = в п\tД запомнил ЭТ\\ ^ г\r\nвыразить в количественной ф„р2„е одним чисдТмТ ЧТ° ЭНЧ&gt;\&quot;\&quot;“ лмчество энергии в системе всегда о г .\tТ“КЖе ЧТО ООЩсе\r\nА \&quot;\&quot;Ч\&quot;- вернемся к нашему разговор’\&quot; К&#39;иам*«\&quot;ЫМ.\r\n‘ \&quot; к&#39;1,4 1ве примера величины, котоиа\tЫ \&quot;Паи1 кониепцию импуль\r\nс гиер&#39;ией практическая польз. ймпу„ьёГ“й“*“*\&quot;* “ектоР°М Наряд)\r\n&#39;Управлении движения о *НИз&gt; на юго-ВОСТо 5 СЧетУ вектор им\r\nсклонность разделять \&quot;\&quot;\&quot; \&quot;Рц1ы«У1ЧУЮ глав! \&quot; &#39;\&quot;\&quot;Йом «РУ™ -Ипм-У«ныстрел^.Г:;;е^;Р»пст1........... лр^ «окаэшиГи.\r\n&#39; ““\&quot;“‘■«ы» четыре ЭТО«6лУжде-\r\nНапРпвле„„ях\r\nч\r\n\r\nЖЕ *\r\n\r\nII .4\r\nПГ1\r\nнства-времени, в противном случае мы так и не сможем соста-лГнламеИтальные уравнения с учетом теории Эйнштейна. Позволь-■Г^овторнтв еще раз: фундаментальные уравнения должны включать г* ,я объекты, существующие в пространстве-времени, а не объекты, * ествующие отдельно в пространстве или во времени, поскольку ь^ъекты такого типа носят субъективный характер. Если вы помните, [в*размер объекта в пространстве, ни промежуток времени между двумя мбытиями нельзя отнести к категории величин, со значением которых\r\nсогласятся все без исключения. Именно это мы имеем в виду, утверждая, что такие объекты носят субъективный характер. Импульс также представляет собой вектор, направленный куда-то только в пространстве. Такое предубеждение против времени сеет семена его разрушения. Предве щает ли пространство-время крушение этого самого фундаментального из всех законов физики? Вновь открытая структура пространства-времени действительно сеет семена разрушения, но она указывает нам так же дальнейший путь: нам необходимо найти инвариантную величину, которая сможет занять место устаревшего трехмерного импульса. А вот и ключевой момент нашего повествования: такая величина существует Давайте внимательнее взглянем на трехмерный вектор импульса. На рис. 11 он представлен в виде стрелки, которая может отображать рас стояние, на которое откатывается шар, перемещаясь по столу*. Если опи-\r\nсывать ситуацию точнее, то предположим, что в полдень шар находи гем\r\nУ одного конца этой стрелки, а через две секунды — у другого. Если шар перемещается на сантиметр каждую секунду, тогда длина стрелки равна Двум сантиметрам. Получить вектор импульса не составляет проблем Он представляет собой стрелку, указывающую абсолютно в том же на\r\nправлении, что и на рис. 11, но ее длина другая и равна скорости нашего Шара (в данном случае один сантиметр в секунду), умноженной на его массу, которая составляет, к примеру, десять граммов. Физики сказали бы, что вектор импульса этого шара имеет длину десять грамм сантиметров в секунду (в краткой форме они записали бы это гак: 10 I&#39; • см/с). Здесь снова целесообразно ввести абстрактные символы, вместо юго чтобы\r\n■ В выборе шара нет ничего особенного. Вместо него можно было бы выбрать любой другой объект.\r\n&quot;</code></pre>
</div>
<div id="количество-символов" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Количество символов</h2>
<ul>
<li>Подсчет</li>
</ul>
<p>Аналогом функции <code>nchar()</code> из базового R в пакете <code>stringr</code> является функция <code>str_length</code>.
<strong>NB!</strong> Эта функция может давать неверные значения, так как подсчитывает количество кодовых точек, используемых для кодирования символа. Чаще всего одному символу соответствует одна кодовая точка, но может быть и больше.</p>
<div class="sourceCode" id="cb47"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb47-1"><a href="работа-со-строками.html#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_length</span>(<span class="fu">c</span>(<span class="st">&quot;Hello&quot;</span>, <span class="st">&quot;&quot;</span>, <span class="cn">NA</span>))</span></code></pre></div>
<pre><code>## [1]  5  0 NA</code></pre>
<p>Также для подсчета количества знаков в строке можно использовать функцию <code>str_count</code>, которая позволяет также подсчитывать количество паттернов (об этом см. пункт о поиске подстроки ниже). Таблица <code>tibble</code> - аналог <code>data.frame</code>, используемый в библиотеке <code>tidyverse</code>.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="работа-со-строками.html#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">mn =</span> month.name) <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="работа-со-строками.html#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">n_charactars =</span> <span class="fu">str_count</span>(mn))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mn"],"name":[1],"type":["chr"],"align":["left"]},{"label":["n_charactars"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"January","2":"7"},{"1":"February","2":"8"},{"1":"March","2":"5"},{"1":"April","2":"5"},{"1":"May","2":"3"},{"1":"June","2":"4"},{"1":"July","2":"4"},{"1":"August","2":"6"},{"1":"September","2":"9"},{"1":"October","2":"7"},{"1":"November","2":"8"},{"1":"December","2":"8"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<ul>
<li>Приведение к желаемому количеству</li>
</ul>
<p>Иногда нам нужно соклатить строку до определенного количества символов. Это легко сделать с помощью функции <code>str_trinc()</code>. Например, можно сократить количество знаков в строке до 6 (по умолчанию индикатор сокращения - <code>ellipsis</code> - это многоточие):</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="работа-со-строками.html#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">mn =</span> month.name) <span class="sc">%&gt;%</span> </span>
<span id="cb50-2"><a href="работа-со-строками.html#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mn_new =</span> <span class="fu">str_trunc</span>(mn, <span class="at">width=</span><span class="dv">6</span>))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mn"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mn_new"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"January","2":"Jan..."},{"1":"February","2":"Feb..."},{"1":"March","2":"March"},{"1":"April","2":"April"},{"1":"May","2":"May"},{"1":"June","2":"June"},{"1":"July","2":"July"},{"1":"August","2":"August"},{"1":"September","2":"Sep..."},{"1":"October","2":"Oct..."},{"1":"November","2":"Nov..."},{"1":"December","2":"Dec..."}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Функция позволяет также изменить индикатор сокращения и определить, сокращаем мы строку за счет ее начала, середины или конца:</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="работа-со-строками.html#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">mn =</span> month.name) <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="работа-со-строками.html#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mn_new =</span> <span class="fu">str_trunc</span>(mn, <span class="dv">6</span>, <span class="at">ellipsis =</span> <span class="st">&quot;-&quot;</span>, <span class="at">side =</span> <span class="st">&quot;left&quot;</span>))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mn"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mn_new"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"January","2":"-nuary"},{"1":"February","2":"-ruary"},{"1":"March","2":"March"},{"1":"April","2":"April"},{"1":"May","2":"May"},{"1":"June","2":"June"},{"1":"July","2":"July"},{"1":"August","2":"August"},{"1":"September","2":"-ember"},{"1":"October","2":"-tober"},{"1":"November","2":"-ember"},{"1":"December","2":"-ember"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Обратная функция для “раздувания” строки - <code>str_pad</code>. По умолчанию это делается за счет пробелов " "</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="работа-со-строками.html#cb52-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">mn =</span> month.name) <span class="sc">%&gt;%</span> </span>
<span id="cb52-2"><a href="работа-со-строками.html#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mn_new =</span> <span class="fu">str_pad</span>(mn, <span class="dv">10</span>))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mn"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mn_new"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"January","2":"January"},{"1":"February","2":"February"},{"1":"March","2":"March"},{"1":"April","2":"April"},{"1":"May","2":"May"},{"1":"June","2":"June"},{"1":"July","2":"July"},{"1":"August","2":"August"},{"1":"September","2":"September"},{"1":"October","2":"October"},{"1":"November","2":"November"},{"1":"December","2":"December"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Аргументы аналогичны:</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="работа-со-строками.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">mn =</span> month.name) <span class="sc">%&gt;%</span> </span>
<span id="cb53-2"><a href="работа-со-строками.html#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mn_new =</span> <span class="fu">str_pad</span>(mn, <span class="dv">10</span>,  <span class="at">pad =</span> <span class="st">&quot;.&quot;</span>, <span class="at">side =</span> <span class="st">&quot;both&quot;</span>))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mn"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mn_new"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"January","2":".January.."},{"1":"February","2":".February."},{"1":"March","2":"..March..."},{"1":"April","2":"..April..."},{"1":"May","2":"...May...."},{"1":"June","2":"...June..."},{"1":"July","2":"...July..."},{"1":"August","2":"..August.."},{"1":"September","2":"September."},{"1":"October","2":".October.."},{"1":"November","2":".November."},{"1":"December","2":".December."}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Для форматирования строки в соответствии с определенной шириной и отступами используют функцию <code>str_wrap</code>. Например, попрорбуем представить первый параграф Lorem ipsum в виде строк с шириной не более 30 знаков (без переноса слов)</p>
<div class="sourceCode" id="cb54"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb54-1"><a href="работа-со-строками.html#cb54-1" aria-hidden="true" tabindex="-1"></a>some_txt <span class="ot">&lt;-</span> <span class="fu">stri_rand_lipsum</span>(<span class="at">nparagraphs =</span> <span class="dv">1</span>)</span>
<span id="cb54-2"><a href="работа-со-строками.html#cb54-2" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">str_wrap</span>(some_txt, <span class="at">width =</span> <span class="dv">30</span>))</span></code></pre></div>
<pre><code>## Lorem ipsum dolor sit
## amet, metus integer iaculis
## tincidunt ac orci convallis.
## Metus duis neque ligula
## natoque nostra vel montes
## fringilla. Efficitur arcu
## dolor vel et diam, tincidunt,
## rhoncus, ad donec. Rutrum
## mauris ornare suspendisse
## justo, vehicula id diam,
## mollis ut. Velit et eu, mauris
## nunc vestibulum sapien. Augue
## dignissim vulputate montes
## ipsum rutrum, eu, eu. Porta
## faucibus maximus ac fusce
## placerat. In imperdiet libero
## cum conubia lacus. Ornare
## tempor vel nam, pulvinar,
## imperdiet sit, vestibulum
## ipsum orci.</code></pre>
<p>Можно, например, указать отступ:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb56-1"><a href="работа-со-строками.html#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">str_wrap</span>(some_txt, <span class="at">width =</span> <span class="dv">30</span>, <span class="at">indent =</span> <span class="dv">2</span>), <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span></code></pre></div>
<pre><code>##   Lorem ipsum dolor sit
## amet, metus integer iaculis
## tincidunt ac orci convallis.
## Metus duis neque ligula
## natoque nostra vel montes
## fringilla. Efficitur arcu
## dolor vel et diam, tincidunt,
## rhoncus, ad donec. Rutrum
## mauris ornare suspendisse
## justo, vehicula id diam,
## mollis ut. Velit et eu, mauris
## nunc vestibulum sapien. Augue
## dignissim vulputate montes
## ipsum rutrum, eu, eu. Porta
## faucibus maximus ac fusce
## placerat. In imperdiet libero
## cum conubia lacus. Ornare
## tempor vel nam, pulvinar,
## imperdiet sit, vestibulum
## ipsum orci.</code></pre>
<p>Иногда в начале и/или конце строки присутствуют лишные пробелы, от которых нам хотелось бы избавиться. Для быстрого “отсечения” пробелов используют функцию <code>str_trim()</code>:</p>
<div class="sourceCode" id="cb58"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb58-1"><a href="работа-со-строками.html#cb58-1" aria-hidden="true" tabindex="-1"></a>raw_strings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;Эта &quot;</span>, <span class="st">&quot; строка &quot;</span>, <span class="st">&quot;, &quot;</span>, <span class="st">&quot; имеет&quot;</span>, <span class="st">&quot; кучу&quot;</span>, <span class="st">&quot; пробелов &quot;</span>)</span>
<span id="cb58-2"><a href="работа-со-строками.html#cb58-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb58-3"><a href="работа-со-строками.html#cb58-3" aria-hidden="true" tabindex="-1"></a><span class="co">#Можно указать, с какой стороны убирать пробелы</span></span>
<span id="cb58-4"><a href="работа-со-строками.html#cb58-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str_trim</span>(raw_strings, <span class="at">side =</span> <span class="st">&quot;left&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Эта &quot;      &quot;строка &quot;   &quot;, &quot;        &quot;имеет&quot;     &quot;кучу&quot;      &quot;пробелов &quot;</code></pre>
<div class="sourceCode" id="cb60"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb60-1"><a href="работа-со-строками.html#cb60-1" aria-hidden="true" tabindex="-1"></a><span class="co">#А можно убрать с обоих концов</span></span>
<span id="cb60-2"><a href="работа-со-строками.html#cb60-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_trim</span>(raw_strings, <span class="at">side =</span> <span class="st">&quot;both&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Эта&quot;      &quot;строка&quot;   &quot;,&quot;        &quot;имеет&quot;    &quot;кучу&quot;     &quot;пробелов&quot;</code></pre>
</div>
<div id="сортировка" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Сортировка</h2>
<p>Вопрос выбора метода сортировки строк - не из самых простых. <a href="https://www.youtube.com/watch?v=kPRA0W1kECg">Алгоритмов сортировки существует множество</a>, скорость их работы отличается в зависимости от формата данных и способа их хранения. Для выбора алгоритма следует учитывать два аспекта: скорость его работы и объем необходимой памяти.</p>
<p><img src="https://i.imgur.com/D0zb2Tm.png" /></p>
<p>(с) [BigOcheatsheet] (<a href="https://www.bigocheatsheet.com/" class="uri">https://www.bigocheatsheet.com/</a>)</p>
<p>Для расчета сложности алгоритмов используется О-нотация, которая, грубо говоря, оценивает скорость роста функции, описывающей работу этого алгоритма.</p>
<p><img src="https://i.imgur.com/3ydrNff.png" /></p>
<p>(с) [BigOcheatsheet] (<a href="https://www.bigocheatsheet.com/" class="uri">https://www.bigocheatsheet.com/</a>)</p>
<p>Стандартное время работы алгоритмов сортировки - <code>O(nlogn)</code>, где <code>n</code> - это количество наблюдений (длина массива), однако для сортировки строк есть и более быстрые решения, например <code>MSD radix sort</code>, часто рекомендуемый для сортировки строк, со скоростью работы <code>O(kn)</code>, где <code>n</code> - это количество наблюдений, а <code>k</code> - количество разрядов. Визуализацию работы популярных алгоритмов сортировки можно увидеть <a href="https://proglib.io/p/sort-gif/">здесь</a>. В <a href="https://www.youtube.com/watch?v=6NwB5VFhM-Y">этом видео</a> можно узнать, как начать разбираться в алгоритмах, если вам интересно.</p>
<p>Таким образом, для сортировки больших массивов строковых данных в базовом R можно использовать функцию <code>sort()</code> с указанием метода <code>radix sort</code>: <code>sort(..., method = "radix")</code></p>
<p>В пакете <code>stringr</code>для сортировки есть функции <code>str_sort</code> и <code>str_order</code>. Встроенный алгоритм сортировки в них не изменить, но зато можно задать локаль.</p>
<div class="sourceCode" id="cb62"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb62-1"><a href="работа-со-строками.html#cb62-1" aria-hidden="true" tabindex="-1"></a>unsorted_strings <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;ba&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;i&quot;</span>, <span class="st">&quot;б&quot;</span>, <span class="st">&quot;я&quot;</span>)</span>
<span id="cb62-2"><a href="работа-со-строками.html#cb62-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-3"><a href="работа-со-строками.html#cb62-3" aria-hidden="true" tabindex="-1"></a><span class="co">#english</span></span>
<span id="cb62-4"><a href="работа-со-строками.html#cb62-4" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sort</span>(unsorted_strings, <span class="at">locale =</span> <span class="st">&quot;en&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a&quot;  &quot;b&quot;  &quot;ba&quot; &quot;e&quot;  &quot;i&quot;  &quot;б&quot;  &quot;я&quot;</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="работа-со-строками.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co">#hawaiian</span></span>
<span id="cb64-2"><a href="работа-со-строками.html#cb64-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sort</span>(unsorted_strings, <span class="at">locale =</span> <span class="st">&quot;haw&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;a&quot;  &quot;e&quot;  &quot;i&quot;  &quot;b&quot;  &quot;ba&quot; &quot;б&quot;  &quot;я&quot;</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="работа-со-строками.html#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="co">#default</span></span>
<span id="cb66-2"><a href="работа-со-строками.html#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sort</span>(unsorted_strings)</span></code></pre></div>
<pre><code>## [1] &quot;a&quot;  &quot;b&quot;  &quot;ba&quot; &quot;e&quot;  &quot;i&quot;  &quot;б&quot;  &quot;я&quot;</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="работа-со-строками.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co">#ukranian</span></span>
<span id="cb68-2"><a href="работа-со-строками.html#cb68-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_sort</span>(unsorted_strings, <span class="at">locale =</span> <span class="st">&quot;ru_UA&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;б&quot;  &quot;я&quot;  &quot;a&quot;  &quot;b&quot;  &quot;ba&quot; &quot;e&quot;  &quot;i&quot;</code></pre>
<p><strong>NB!</strong> Знайте <a href="https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">локаль</a> своего компьютера, от нее зависит порядок сортировки. Функция <code>stringi::stri_locale_list()</code> покажет вам список локалей на компьютере. Ознакомьтесь также с <code>stringi::stri_locale_info</code> и <code>stringi::stri_locale_set</code></p>
</div>
<div id="конкатенация" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Конкатенация</h2>
<p>Конкатенация - это операция склеивания, сцепления. Функция <code>str_c</code> позволяет склеивать строки в одну строку.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="работа-со-строками.html#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;h&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="st">&quot;o&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;hello&quot;</code></pre>
<p>Можно указать разделитель аргументом <code>sep</code>:</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="работа-со-строками.html#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;h&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="st">&quot;o&quot;</span>, <span class="at">sep=</span><span class="st">&quot;_&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;h_e_l_l_o&quot;</code></pre>
<p><strong>NB!</strong> NA выскакивают как NA, а пустые строки опускаются. Чтобы NA превратить в строку используйте <code>str_replace_na()</code>:</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="работа-со-строками.html#cb74-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="cn">NA</span>)</span>
<span id="cb74-2"><a href="работа-со-строками.html#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;префикс-&quot;</span>, x, <span class="st">&quot;-суффикс&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;префикс-a-суффикс&quot; NA</code></pre>
<div class="sourceCode" id="cb76"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb76-1"><a href="работа-со-строками.html#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(<span class="st">&quot;префикс-&quot;</span>, <span class="fu">str_replace_na</span>(x), <span class="st">&quot;-суффикс&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;префикс-a-суффикс&quot;  &quot;префикс-NA-суффикс&quot;</code></pre>
<p>Чтобы вектор строк превратить в одну строку воспользуйтесь аргументом <code>collapse</code>:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="работа-со-строками.html#cb78-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;h&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="st">&quot;l&quot;</span>, <span class="st">&quot;o&quot;</span>)</span>
<span id="cb78-2"><a href="работа-со-строками.html#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(x)</span></code></pre></div>
<pre><code>## [1] &quot;h&quot; &quot;e&quot; &quot;l&quot; &quot;l&quot; &quot;o&quot;</code></pre>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="работа-со-строками.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_c</span>(x, <span class="at">collapse =</span> <span class="st">&quot;_&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;h_e_l_l_o&quot;</code></pre>
<p>Обратная операция - разделение строк. Для этого можно использовать функции <code>separate()</code> или <code>str_split()</code>.</p>
<p>Используйте <code>separate()</code> для разбиения колонки из таблицы на несколько колонок</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="работа-со-строками.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(sample) <span class="sc">%&gt;%</span> </span>
<span id="cb82-2"><a href="работа-со-строками.html#cb82-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">separate</span>(<span class="at">col =</span> author_link, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;column_1&quot;</span>, <span class="st">&quot;column_2&quot;</span>, <span class="st">&quot;author_id&quot;</span>), <span class="at">sep =</span> <span class="st">&quot;/&quot;</span>)</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["X1"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["link"],"name":[2],"type":["chr"],"align":["left"]},{"label":["title"],"name":[3],"type":["chr"],"align":["left"]},{"label":["column_1"],"name":[4],"type":["chr"],"align":["left"]},{"label":["column_2"],"name":[5],"type":["chr"],"align":["left"]},{"label":["author_id"],"name":[6],"type":["chr"],"align":["left"]},{"label":["author"],"name":[7],"type":["chr"],"align":["left"]},{"label":["page"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["fandom"],"name":[9],"type":["chr"],"align":["left"]},{"label":["subtitle"],"name":[10],"type":["chr"],"align":["left"]},{"label":["text"],"name":[11],"type":["chr"],"align":["left"]},{"label":["likes"],"name":[12],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"/readfic/9941747","3":"Сгорая, плачут свечи...","4":"","5":"authors","6":"1783054","7":"Mrs. Lady Night","8":"63","9":"Неукротимый","10":"Подкидыш","11":"Осенней ночью за окном\\r\\r\\nТуман поссорился с дождем,\\r\\r\\nИ беспробудный вечер,\\r\\r\\nИ беспробудный вечер.\\r\\r\\nО чем-то дальнем, неземном,\\r\\r\\nО чем-то близком и родном,\\r\\r\\nСгорая, плачут свечи,\\r\\r\\nСгорая, плачут свечи…*\\r\\r\\n\\r\\r\\nПочему-то считается, что русалки могут жить только в южных морях, мол, там и тепло, и пищи в достатке, и красиво. Но это не соответствует действительности. Морской народ встречается и в северных морях, хотя они и холодные, и темно-серые, и с добычей пропитания часто возникают проблемы.\\r\\r\\n\\r\\r\\nСе Лянь развалился на роскошной софе в доме своего мужа в Призрачном городе и с интересом переключал каналы на пульте от Всемирного Всевидящего Ока, которое подарил ему муж на очередную годовщину их свадьбы. Где раздобыл Хуа Чэн этого странного монстра, который занимал практически всю противоположную софе стену, он, конечно, не признавался, но пояснил, что часто вынужден покидать своего драгоценного супруга по делам Градоначальника, и чтобы муж не скучал без него, пусть любуется красотами далёких миров, а потом за ужином веселит его рассказами об увиденном.\\r\\r\\n\\r\\r\\nСе Лянь уже который вечер с удовольствием восхищался и удивлялся жизнью за пределами их земель, когда однажды совершенно случайно Око не показало ему странный, смутивший и сердце, и ум сюжет:\\r\\r\\n\\r\\r\\nОдним осенним холодным ветреным вечером на вершине утёса сидела русалка и смотрела вдаль, любуясь окружающим пейзажем. Сквозь облака пробивался печальный лунный свет, освещая бескрайние удивительные волны, которые, словно дыша, вздымались и волновались.**\\r\\r\\n\\r\\r\\n«Какой проникнутый печалью, холодом и одиночеством пейзаж, — подумала русалка (Око показывало не только видео, но могло транслировать и слова, и мысли). — Мы живём в холодном тёмном унылом море вместе с рыбами и различными свирепыми чудовищами. А ведь мы так похожи на людей и телом, и душой!»\\r\\r\\n\\r\\r\\nРусалка вспоминала долгие месяцы и годы одиночества, когда ей не с кем было перекинуться словом, пока не встретила своего будущего мужа. Но и с ним была счастлива недолго. Буквально на днях его съела белая акула, и женщина осталась одна, но с ребёнком под сердцем. И опять уже для будущего сына русалка хранила свои мечты о ярком и светлом мире, который раскинулся в шуме, свете и счастье (так ей казалось) за береговой чертой.\\r\\r\\n\\r\\r\\nОна считала, что города, где живут люди, прекрасны… там всё не так, как у рыб или других морских обитателей… Для своего ребёнка мать не хотела печального одиночества в глубине холодного моря.\\r\\r\\n\\r\\r\\nИ всё чаще её посещала мысль отдать дитя на воспитание людям: — Мне будет трудно навсегда расстаться с моими плотью и кровью, но я буду радоваться его счастью. А он непременно будет счастлив! Говорят, что люди — самые добрые существа на свете, они не обижают слабых и беззащитных. Если они воспитают моего сыночка, за него можно не беспокоиться.\\r\\r\\n\\r\\r\\nСе Лянь так обеспокоился этим сюжетом, что приказал пульту добавить его в самые важные закладки, чтобы потом ещё не раз проследить за такой глупой русалкой.\\r\\r\\n\\r\\r\\n— Ты представляешь, — продолжал возмущаться он во время ужина, уже после того, как поведал мужу, что его расстроило, — эта глупая рыба (иначе не назовёшь) хочет отдать своё родное дитя людям, считая, что у нас тут мёдом всё намазано и праздник круглый год. Как такое ей вообще в голову могло придти!\\r\\r\\n\\r\\r\\nХуа Чэн попытался успокоить своего очень доброго и ответственного супруга, но тот был непримирим: — Я должен досмотреть эту историю, и, если что, помочь бедному малышу обрести счастье.\\r\\r\\n\\r\\r\\nВот с этим Чэн согласился и вызвался, если надо, помочь Се Ляню.\\r\\r\\n\\r\\r\\n***\\r\\r\\n\\r\\r\\nДалеко-далеко на высокой прибрежной горе стоял маленький храм, огни которого мелькали вечерами и ночами среди волн. Русалка, как зачарованная, пристально и долго вглядывалась в них и наконец решилась. Она соскользнула с утёса и поплыла на свет мерцающих огней, чтобы родить ребёнка на суше.**\\r\\r\\n\\r\\r\\nНа берегу моря раскинулся небольшой провинциальный городишко с различными магазинчиками и лавками. А у подножия горы пожилая пара держала захудалую свечную лавку. Старик делал свечи, а старуха их продавала. Когда горожане или рыбаки из окрестных деревень посещали храм на горе, то всегда покупали свечи у пожилой супружеской пары.**\\r\\r\\n\\r\\r\\nХрам же располагался на самой вершине горы в сосновой роще. Со стороны моря всегда дул сильный ветер, раскачивал сосны и, завывая и днём, и ночью, пытался обломать ветви. И каждую ночь в храме, мерцая и дрожа, горели свечи; их сияние можно было созерцать даже со стороны моря.\\r\\r\\n\\r\\r\\nОднажды вечером старуха обратилась к мужу:\\r\\r\\n— Если бы на вершине горы не было храма, никто бы наши свечи не покупал. Мы должны благодарить богов за это, поэтому я сейчас пойду в храм и помолюсь.\\r\\r\\n\\r\\r\\n— Ты права, я сам давно собираюсь, но каждый день тут такие суета и заботы, что и недосуг… Иди и помолись за меня тоже, — отвечал жене старик.\\r\\r\\n\\r\\r\\nСтаруха вышла из дома и с огромным трудом стала подниматься на гору. Ночь стояла лунная, и было видно, как днём.\\r\\r\\n\\r\\r\\nНаконец, женщина поднялась, сотворила молитву и медленно отправилась обратно. Вдруг на каменных ступенях она увидела плачущего новорожденного младенца.\\r\\r\\n\\r\\r\\n— Бедняжка, кто тебя здесь бросил? Постой… а ведь это знак свыше! Когда я поднималась, на лестнице никого не было, и ты появился только после того, как я зажгла свечи и принесла благодарности богам, которые, конечно, знали, что у нас нет детей и даровали нам тебя.\\r\\r\\n\\r\\r\\n— Ага, нам больше делать нечего, как подкидывать вам детей. Вы с этим и сами прекрасно справляетесь, вон сколько приютов понастроено; я не успеваю их освящать и помогать детям, проживающим в них. — Подумал Се Лянь, но поступку старухи порадовался, хотя что-то всё же царапало в душе и не давало забыть этого ребёнка.\\r\\r\\n\\r\\r\\nСтаруха обняла младенца, и, приговаривая: «бедняжка, бедняжка», воротилась домой.\\r\\r\\nСтарик очень удивился, увидев жену с ребёнком на руках. Старуха всё ему рассказала, и он тоже согласился, что это дитя — дар богов, и его обязательно надо взять к себе, иначе боги на них обидятся и нашлют страшные кары небесные.\\r\\r\\n\\r\\r\\nЭтот эпизод удалось посмотреть и Хуа Чэну, который, разделяя беспокойство мужа, тихо как бы про себя заметил: — Только попробуйте обидеть дитя и будете иметь дело со мной!\\r\\r\\n\\r\\r\\nКогда супруги развернули пелёнки, то онемели от увиденного. Младенец оказался русалкой мужского пола, у которого вместо ног был хвост, как у рыбы. Старики, конечно, ещё от своих ныне покойных родителей слышали, что в их море водятся русалки, но сами видели такое чудо впервые.\\r\\r\\n\\r\\r\\n— Это не человек… — побелевшими губами произнёс муж. (Громогласный ржач Хуа Чэна)\\r\\r\\n\\r\\r\\n— Пусть даже и так, это очень милый мальчик. — Радостно, совершенно успокоившись, ответила жена. — Возьмём его на воспитание и наречём Вэй Ином.\\r\\r\\n\\r\\r\\nИ они приняли русала в свою семью, никому ничего не рассказав.\\r\\r\\n\\r\\r\\n***\\r\\r\\n\\r\\r\\nМальчик рос и становился красивее день ото дня: большие умные чёрные глаза, длинные волосы, нежная кожа. По характеру был тихим, скромным и разумным.**\\r\\r\\n\\r\\r\\n— Хуа Чэн, если бы я не знал, что у русалки был муж и не видел, как его съела акула (Око могло показывать и уже произошедшее), то я бы взревновал тебя. Уж очень много у русала во внешности сходных с тобой черт.\\r\\r\\n\\r\\r\\n***\\r\\r\\n\\r\\r\\nШли годы. Вэй Ин вырос и превратился в статного молодого человека, но по-прежнему никогда не выходил из дома, так как очень стеснялся того, что отличался от всех остальных людей, которые, случайно увидев парня в свечной лавке, были поражены его красотой. В надежде увидеть Вэй Ина хоть краешком глаза они снова и снова приходили в лавку за свечами.\\r\\r\\n\\r\\r\\nНо старики отвечали желающим познакомиться с молодым человеком: «Наш внук очень застенчив и никогда не выходит к гостям».\\r\\r\\n\\r\\r\\nОбычно русал сидел рядом со стариком, когда тот мастерил из воска свечи. Сидеть просто так, ничего не делая, было скучно, и русал стал рисовать красной краской на белых боках свеч диковинных рыб, раковины, водоросли. И в его небольших картинах таились странная сила и красота.\\r\\r\\nУдивительным было то, что Ин никогда не учился рисовать и не видел ни моря, ни его обитателей.\\r\\r\\n\\r\\r\\n«Конечно, никакой человек так не нарисует глубины моря, пусть и не виденного, как русал. Это в нём просыпается врождённая память», — восхищался старик.\\r\\r\\n\\r\\r\\nВскоре с утра до вечера и дети, и взрослые горожане стали осаждать свечную лавку и требовать одно и то же: «Дайте мне разрисованную свечу!»\\r\\r\\n\\r\\r\\nВэй Ину приходилось работать и днём, и ночью, чтобы удовлетворить запросы всех желающих; он очень уставал, у него болели руки, но русал продолжал рисовать, чтобы помочь дедушке и бабушке; а супруги только радовались этому, потому что ручеёк денег непрерывно тёк в их карманы.\\r\\r\\n\\r\\r\\nВместе с этим поползли удивительные слухи, мол, если поставить разрисованную свечу в храме на горе, а потом забрать огарок с собой и перед выходом в море осенить себя его огнём, это пламя защитит корабль или лодку от самой сильной бури, и ты обязательно вернёшься домой.**\\r\\r\\n\\r\\r\\nВсе рассуждали так, мол, в храме возносят молитвы богу морей, поэтому он и радуется, когда в его честь зажигается очередная красивая свеча.\\r\\r\\n\\r\\r\\n***\\r\\r\\n\\r\\r\\nСлухи о чудесных свечах распространились сначала за пределы этого городка, а потом — и страны. Внезапно и гора, и храм стали известны и почитаемы во всём мире. И простые рыбаки, и бывалые известные мореходы приезжали издалека, ставили свечу в храме на горе, ждали, когда она прогорит и забирали огарок с собой.** Поэтому теперь в храме свечи горели непрерывно. Особенно красиво сияли они в темноте ночи, и их свет был виден издалека проплывавшим мимо кораблям.\\r\\r\\n\\r\\r\\n«Какой великий и добрый этот бог морей!» — восхищались люди, глядя на такое великолепие.\\r\\r\\n\\r\\r\\nНо, естественно, никто не думал о бедном парне, который вкладывал в рисунки душу. Никто его не жалел. У супругов деньги вытеснили все добрые чувства, и с каждым днём они требовали, чтобы Вэй Ин работал всё больше и всё дольше. Поэтому порой в лунные ночи русал открывал окно, с тоской смотрел на море, и тихие слёзы тоски и одиночества струились по его бледным впалым (порой ему не хватало времени, чтобы даже поесть) щекам.\\r\\r\\n\\r\\r\\n— Ну, я так и знал, что этим всё и закончится, — Се Лянь разрыдался, а Хуа Чэн прижал к себе расстроенного супруга и задумался.","12":"27"},{"1":"2","2":"/readfic/9309582","3":"Объятья длиной в вечность","4":"","5":"authors","6":"1044964","7":"Wales","8":"131","9":"Неукротимый","10":"NA","11":"На<U+200C> <U+200C>уроке<U+200C> <U+200C>старика<U+200C> <U+200C>Ланя<U+200C> <U+200C>по-обыденному<U+200C> <U+200C>скучно.<U+200C> <U+200C>Настолько<U+200C> <U+200C>скучно,<U+200C> <U+200C>что<U+200C> <U+200C>монотонный<U+200C> голос<U+200C> <U+200C>убаюкивает<U+200C> <U+200C>и<U+200C> <U+200C>манит<U+200C> <U+200C>ко<U+200C> <U+200C>сну.<U+200C> <U+200C>Цзян<U+200C> <U+200C>Чэн<U+200C> <U+200C>позади<U+200C> <U+200C>что-то<U+200C> <U+200C>шикает,<U+200C> <U+200C>Не-сюн<U+200C> <U+200C>машет<U+200C> веером,<U+200C> <U+200C>привлекая<U+200C> <U+200C>внимание,<U+200C> <U+200C>и<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>поворачивается<U+200C> <U+200C>с<U+200C> <U+200C>немым<U+200C> <U+200C>вопросом.<U+200C> <U+200C>Мол,<U+200C> чего<U+200C> <U+200C>тебе?<U+200C> <U+200C>Если<U+200C> <U+200C>сплетни<U+200C> <U+200C>про<U+200C> <U+200C>наше<U+200C> <U+200C>приключение<U+200C> <U+200C>с<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжанем,<U+200C> <U+200C>то<U+200C> <U+200C>давай<U+200C> <U+200C>потом.<U+200C> <U+200C>Я<U+200C> <U+200C>не<U+200C> выспался<U+200C> <U+200C>абсолютно.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nА<U+200C> <U+200C>еще<U+200C> <U+200C>голова<U+200C> <U+200C>тяжелая.<U+200C> <U+200C>И<U+200C> <U+200C>в<U+200C> <U+200C>теле<U+200C> <U+200C>до<U+200C> <U+200C>странного<U+200C> <U+200C>неприятно<U+200C> <U+200C>находиться.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nНе-сюн<U+200C> <U+200C>дергается,<U+200C> <U+200C>когда<U+200C> <U+200C>его<U+200C> <U+200C>окликает<U+200C> <U+200C>Лань<U+200C> Цижэнь, выпрямляется<U+200C> <U+200C>и<U+200C> <U+200C>нервно<U+200C> <U+200C>кивает,<U+200C> <U+200C>с<U+200C> нарастающей<U+200C> <U+200C>паникой<U+200C> <U+200C>слушая<U+200C> <U+200C>вопрос.<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>тоже<U+200C> <U+200C>вслушивается,<U+200C> <U+200C>но<U+200C> <U+200C>звуки<U+200C> <U+200C>словно<U+200C> <U+200C>\\r\\r\\nпропадают<U+200C> <U+200C>где-то<U+200C> <U+200C>на<U+200C> <U+200C>полпути<U+200C> <U+200C>к<U+200C> <U+200C>нему,<U+200C> <U+200C>долетая<U+200C> <U+200C>какими-то<U+200C> <U+200C>обрывками.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nУжасно<U+200C> <U+200C>хочется<U+200C> <U+200C>спать.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nВэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>переводит<U+200C> <U+200C>взгляд<U+200C> <U+200C>на<U+200C> <U+200C>идеально-прямую<U+200C> <U+200C>спину<U+200C> <U+200C>впереди,<U+200C> <U+200C>выдыхает<U+200C> <U+200C>и<U+200C> негромко<U+200C> <U+200C>пытается<U+200C> <U+200C>окликнуть<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжаня,<U+200C> <U+200C>гордость<U+200C> <U+200C>старика<U+200C> <U+200C>Ланя<U+200C> <U+200C>и<U+200C> <U+200C>заклинателя,<U+200C> <U+200C>что<U+200C> <U+200C>вчера<U+200C> <U+200C>перевязал<U+200C> <U+200C>ему<U+200C> <U+200C>лентой<U+200C> <U+200C>запястье.<U+200C> <U+200C>Святая<U+200C> <U+200C>Гуаньинь,<U+200C> <U+200C>а<U+200C> <U+200C>там<U+200C> <U+200C>разве<U+200C> <U+200C>с<U+200C> <U+200C>лентой<U+200C> <U+200C>нет<U+200C> <U+200C>чего-то,<U+200C> <U+200C>ну?..<U+200C> Думать<U+200C> <U+200C>сложно.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n—<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжань,<U+200C> <U+200C>—<U+200C> <U+200C>шепчет<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь.<U+200C> <U+200C>—<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжань.<U+200C> <U+200C>—<U+200C> <U+200C>На<U+200C> <U+200C>фоне<U+200C> <U+200C>старик<U+200C> <U+200C>Лань<U+200C> <U+200C>громит<U+200C> <U+200C>в<U+200C> <U+200C>\\r\\r\\nпух<U+200C> <U+200C>и<U+200C> <U+200C>прах<U+200C> <U+200C>Не-сюна,<U+200C> <U+200C>запинающегося<U+200C> <U+200C>и<U+200C> <U+200C>лепечущего,<U+200C> <U+200C>прикрывающегося<U+200C> <U+200C>веером,<U+200C> <U+200C>а<U+200C> <U+200C>что<U+200C> <U+200C>ему<U+200C> <U+200C>до<U+200C> <U+200C>этого<U+200C> <U+200C>дело?<U+200C> <U+200C>А<U+200C> <U+200C>какое<U+200C> <U+200C>должно<U+200C> <U+200C>быть?..<U+200C> <U+200C>Впереди<U+200C> <U+200C>белое<U+200C> <U+200C>пятно,<U+200C> <U+200C>ровные<U+200C> <U+200C>складки<U+200C> <U+200C>ткани,<U+200C> <U+200C>прямые<U+200C> <U+200C>черные<U+200C> <U+200C>волосы<U+200C> <U+200C>и<U+200C> <U+200C>две<U+200C> <U+200C>полоски<U+200C> <U+200C>ленты,<U+200C> <U+200C>закрепленные<U+200C> <U+200C>на<U+200C> <U+200C>шпильке<U+200C> в<U+200C> <U+200C>заколке.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nЛань<U+200C> <U+200C>Чжань<U+200C> <U+200C>оборачивается.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nВ<U+200C> <U+200C>золотых<U+200C> <U+200C>глазах<U+200C> <U+200C>повис<U+200C> <U+200C>немой<U+200C> <U+200C>упрек<U+200C> <U+200C>и<U+200C> <U+200C>одновременно<U+200C> <U+200C>вопрос.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nКрасиво.<U+200C> <U+200C>Красивые.<U+200C> <U+200C>Глаза.<U+200C> <U+200C>Золотистые,<U+200C> <U+200C>как<U+200C> <U+200C>янтарный<U+200C> <U+200C>мед.<U+200C> <U+200C>Как<U+200C> <U+200C>зимний<U+200C> <U+200C>рассвет.<U+200C> <U+200C>И..<U+200C> <U+200C>гуй<U+200C> <U+200C>\\r\\r\\nраздери,<U+200C> <U+200C>о<U+200C> <U+200C>чем<U+200C> <U+200C>он<U+200C> <U+200C>думает?<U+200C> <U+200C>А<U+200C> <U+200C>впрочем,<U+200C> <U+200C>важно<U+200C> <U+200C>ли…<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжань<U+200C> <U+200C>смотрит<U+200C> <U+200C>и<U+200C> <U+200C>смотрит,<U+200C> ждет,<U+200C> <U+200C>внимательно<U+200C> <U+200C>ждет,<U+200C> <U+200C>такой<U+200C> терпеливый,<U+200C> <U+200C>такой…<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nВэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>чувствует,<U+200C> <U+200C>как<U+200C> <U+200C>небо<U+200C> <U+200C>меняется<U+200C> <U+200C>с<U+200C> <U+200C>землей,<U+200C> <U+200C>его<U+200C> <U+200C>пальцы<U+200C> <U+200C>касаются<U+200C> <U+200C>спины,<U+200C> <U+200C>\\r\\r\\nоблаченной<U+200C> <U+200C>в<U+200C> <U+200C>белое,<U+200C> <U+200C>и<U+200C> <U+200C>как<U+200C> <U+200C>его<U+200C> <U+200C>подхватывают,<U+200C> <U+200C>не<U+200C> <U+200C>давая<U+200C> <U+200C>удариться<U+200C> <U+200C>о<U+200C> <U+200C>деревянный<U+200C> <U+200C>столик,<U+200C> <U+200C>почти<U+200C> <U+200C>мгновенно,<U+200C> <U+200C>так<U+200C> <U+200C>быстро,<U+200C> <U+200C>что<U+200C> <U+200C>перехватывает<U+200C> <U+200C>дыхание.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n—<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжань,<U+200C> <U+200C>—<U+200C> <U+200C>бормочет<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь,<U+200C> <U+200C>держась<U+200C> <U+200C>за<U+200C> <U+200C>белый<U+200C> <U+200C>рукав.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n—<U+200C> <U+200C>Вэй<U+200C> <U+200C>Ин,<U+200C> <U+200C>—<U+200C> <U+200C>и<U+200C> <U+200C>в<U+200C> <U+200C>чужом<U+200C> <U+200C>голосе<U+200C> <U+200C>сквозит<U+200C> <U+200C>почти<U+200C> <U+200C>ощутимое<U+200C> <U+200C>беспокойство.<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>\\r\\r\\nхихикает<U+200C> <U+200C>в<U+200C> <U+200C>руках,<U+200C> <U+200C>улыбается,<U+200C> <U+200C>и<U+200C> <U+200C>абсолютно<U+200C> <U+200C>неважно,<U+200C> <U+200C>что<U+200C> <U+200C>происходит<U+200C> <U+200C>за<U+200C> <U+200C>пределами<U+200C> <U+200C>их<U+200C> <U+200C>\\r\\r\\nмаленького,<U+200C> <U+200C>четко<U+200C> <U+200C>очерченного<U+200C> <U+200C>мира.<U+200C> <U+200C>Лань<U+200C> <U+200C>Чжань<U+200C> <U+200C>оборачивается,<U+200C> <U+200C>голоса<U+200C> <U+200C>сливаются<U+200C> <U+200C>в<U+200C> <U+200C>\\r\\r\\nнеразличимый<U+200C> <U+200C>гул,<U+200C> <U+200C>а<U+200C> <U+200C>руки<U+200C> <U+200C>сжимают<U+200C> <U+200C>только<U+200C> <U+200C>крепче,<U+200C> <U+200C>и<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>чувствует<U+200C> <U+200C>себя<U+200C> <U+200C>в<U+200C> <U+200C>\\r\\r\\nполнейшей<U+200C> <U+200C>безопасности.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nХорошо.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n***<U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nПод<U+200C> <U+200C>веки<U+200C> <U+200C>пытается<U+200C> <U+200C>заглянуть<U+200C> <U+200C>солнце,<U+200C> <U+200C>щекочет<U+200C> <U+200C>шею<U+200C> <U+200C>и<U+200C> <U+200C>щеки<U+200C> <U+200C>теплыми<U+200C> <U+200C>касаниями,<U+200C> <U+200C>и<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>приоткрывает<U+200C> <U+200C>глаза.<U+200C> <U+200C>В<U+200C> <U+200C>нос<U+200C> <U+200C>ударяет<U+200C> <U+200C>запахом<U+200C> <U+200C>лекарственных<U+200C> <U+200C>трав<U+200C> <U+200C>и<U+200C> <U+200C>согревающих<U+200C> <U+200C>мазей,<U+200C> <U+200C>а<U+200C> <U+200C>еще<U+200C> <U+200C>основой<U+200C> <U+200C>под<U+200C> <U+200C>настои,<U+200C> <U+200C>и<U+200C> <U+200C>он<U+200C> <U+200C>чихает,<U+200C> <U+200C>подскакивая<U+200C> <U+200C>на<U+200C> <U+200C>кровати.<U+200C> <U+200C>Что<U+200C> <U+200C>он<U+200C> здесь<U+200C> <U+200C>забыл?<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n—<U+200C> <U+200C>А-Сянь!<U+200C> <U+200C>—<U+200C> <U+200C>Восклицает<U+200C> <U+200C>шицзе,<U+200C> <U+200C>откладывая<U+200C> <U+200C>тряпку.<U+200C> <U+200C>Госпожа<U+200C> <U+200C>Вэнь<U+200C> <U+200C>вздыхает<U+200C> и<U+200C> молчаливо<U+200C> <U+200C>выходит<U+200C> <U+200C>из<U+200C> <U+200C>лекарских<U+200C> <U+200C>покоев.<U+200C> <U+200C>Через<U+200C> <U+200C>несколько<U+200C> <U+200C>мяо<U+200C> <U+200C>влетает<U+200C> <U+200C>Цзян<U+200C> <U+200C>Чэн<U+200C> и<U+200C> его<U+200C> вид<U+200C> <U+200C>что-то<U+200C> <U+200C>среднее<U+200C> <U+200C>между<U+200C> <U+200C>встревоженностью,<U+200C> <U+200C>смущением<U+200C> <U+200C>и<U+200C> <U+200C>злостью.<U+200C> <U+200C>—<U+200C> <U+200C>Как<U+200C> <U+200C>ты<U+200C> <U+200C>себя<U+200C> <U+200C>чувствуешь?<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\nВэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>моргает.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n—<U+200C> <U+200C>Хорошо.<U+200C> <U+200C> <U+200C>\\r\\r\\n <U+200C>\\r\\r\\n—<U+200C> <U+200C>Будет<U+200C> <U+200C>действительно<U+200C> <U+200C>прекрасно,<U+200C> <U+200C>если<U+200C> <U+200C>это<U+200C> <U+200C>так!<U+200C> <U+200C>—<U+200C> <U+200C>Проворчал<U+200C> <U+200C>Цзян<U+200C> <U+200C>Чэн,<U+200C> <U+200C>озираясь<U+200C> <U+200C>и<U+200C> <U+200C>занося<U+200C> <U+200C>в<U+200C> <U+200C>лекарские<U+200C> <U+200C>покои<U+200C> <U+200C>чашу<U+200C> <U+200C>со<U+200C> <U+200C>знакомо<U+200C> <U+200C>пахнущим<U+200C> <U+200C>супом.<U+200C> <U+200C>Вэй<U+200C> <U+200C>Усянь<U+200C> <U+200C>почти<U+200C> <U+200C>сразу<U+200C> <U+200C>же<U+200C> <U+200C>потянулся<U+200C> <U+200C>на<U+200C> <U+200C>аромат, но шицзе придавила его к постели сильной рукой. Цзян Чэн победно хмыкнул и поставил чашу на стол, подальше от Вэй Усянь. Вот маленький!.. \\r\\r\\n\\r\\r\\n— Лежи спокойно, — строго сказала Цзян Яньли. — Ты еще не поправился.\\r\\r\\n\\r\\r\\n— Как поем супа, так сразу и поправлюсь! — Воскликнул Вэй Усянь, ерзая на постели. Шицзе улыбнулась, покачав головой. — А откуда?.. — Насторожился он. — В Гусу же нельзя мясо. И вообще, сколько я провалялся и почему здесь? Шицзе? Цзян Чэн? — Цзян Яньли нахмурилась и достала иглу, в которой Вэй Усянь с ужасом опознал одну из игл девы Вэнь. \\r\\r\\n\\r\\r\\n— А-Сянь, тебе сказано было не двигаться, иначе снова появится жар. \\r\\r\\n\\r\\r\\n— Вот и как тебя угораздило, а? — Задал вопрос Цзян Чэн, бесцеремонно сдвигая ноги Вэй Усяня в сторону и садясь на постель. — Нормально же все до этого было. Или мне вспомнить твою с Лань Ванцзи таинственную пропажу на несколько дней, а? Не обнаглел часом? \\r\\r\\n\\r\\r\\n— А-Чэн, — мягко осадила Цзян Чэна шицзе. Вэй Усянь растерянно моргнул. \\r\\r\\n\\r\\r\\n— И все еще не понимаю, о чем вы говорите, — он поднял бровь и подобрал под себя ноги, вновь начиная ощущать странное чувство дискомфорта. Словно все слишком тяжёлое и перекрученное до звенящей струны. Ныла спина, руки, и Вэй Усянь медленно начал осознавать. \\r\\r\\n\\r\\r\\n— Ты грохнулся без сознания прямиком на Лань Ванцзи на уроке Лань Цижэня! — Выпалил Цзян Чэн, хорохорясь, как птица на ветке зимой. — Устроил переполох. Лань Ванцзи, кажется, пять цветов лица сменил, начиная с бледного бежевого и заканчивая белым. Картина тушью — знаменитый второй господин Лань, игнорируя всё и вся, встает и уходит с тобой прямиком с урока. \\r\\r\\n\\r\\r\\nЦзян Яньли хихикнула. \\r\\r\\n\\r\\r\\nЛицо Вэй Усяня напоминало собой карикатуру — два больших глаза и разинутый рот. Он потянулся немного вперед, невольно зажмурив глаза от стрельнувшей в голове боли. Яньли сразу опустила прохладную ладонь ему на лоб. \\r\\r\\n\\r\\r\\n— Опять жар. Три дня сбивали, всей толпой во главе с Лань Ванцзи, а толку? \\r\\r\\n\\r\\r\\n— Три дня?! — Закричал Вэй Усянь. — Целых три дня?! \\r\\r\\n\\r\\r\\nЦзян Чэн закатил глаза, подошел и почти силком опустил неугомонного брата в постель, накрывая по самое горло одеялом. Цзян Яньли благодарно кивнула и ненадолго отошла, оставляя Вэй Усяня один на один со сверлящим взглядом Цзян Чэном. \\r\\r\\n\\r\\r\\n— Вот именно что три дня, гуя кусок, — проворчал Цзян Чэн. — Первые несколько сяоши лекарь не знал, за что хвататься: за толпу перед павильоном, за тебя или за успокаивающий чай. Лань Ванцзи, кажется, и вовсе решил здесь гнездо свить, тебя в него перетянуть и высиживать, как курица яйцо. \\r\\r\\n\\r\\r\\n— Святая Гуаньинь, а-Чэн, мне кажется, лекарь нужен тебе. \\r\\r\\n\\r\\r\\nЦзян Чэн хлопнул Вэй Усяня по лбу второй подушкой. \\r\\r\\n\\r\\r\\n—Зат-кнись. \\r\\r\\n\\r\\r\\nВэй Усянь покорно замолчал, начиная ощущать головокружение. Такое состояние было привычным в детстве, но никак не сейчас. Сейчас-то он сильный заклинатель, лучше многих в его возрасте! Но, видимо, Ледяной омут не прошел бесследно. А если учесть, что они там находились не пару сяоши, а гораздо, гораздо дольше… и вовсе скорбная картина получается. \\r\\r\\n\\r\\r\\nТри дня в постели без чувств валяться, это надо же... \\r\\r\\nПогодите-ка.\\r\\r\\n\\r\\r\\nЦзян Чэн сказал, что три дня — и рядом был Лань Чжань… \\r\\r\\n\\r\\r\\n— Цзян Чэн, Цзян Чэн! — Вэй Усянь снял с себя подушку, подскакивая на постели. Цзян Чэн опять закатил глаза, но не порывался угомонить его. Превосходно.— Слушай, ты тут сказал… что Лань Чжань… — Вэй Усянь выставил перед собой пальцы, изображая ими Лань Ванцзи в виде кролика, — был рядом…— тыкнул ими в постель, — со мной. Где он сейчас? \\r\\r\\n\\r\\r\\n— Он отошел семь сяоши назад, — задумчиво проговорил Цзян Чэн, двигая ноги Вэй Усяня еще дальше. — Он и а-цзе поговорили о чем-то, а потом Лань Ванцзи поднялся и ушел. А-цзе через некоторое время ушла тоже, оставив меня и деву Вэнь следить за тобой. Потом вернулась, сказала, что через цзы можно будет проверять готовность супа. Не знаю, — пожал плечами Цзян Чэн. — Двигайся давай, я устал. \\r\\r\\n\\r\\r\\n— Так волновался за меня, что устал! — Притворно восторженно воскликнул Вэй Усянь.\\r\\r\\n\\r\\r\\n— Не валялся бы ты три дня мертвецом, не устал бы, — недовольно проворчал Цзян Чэн, приоткрывая глаз. Вэй Усянь негромко хохотнул, позволяя шиди занять часть постели. Тот, впрочем, быстро задремал, а Вэй Усянь же уткнулся взглядом в дымящийся суп на дальнем столике. \\r\\r\\n\\r\\r\\nВ голове медленно складывалась картинка. \\r\\r\\n\\r\\r\\nМясо в клане Лань нельзя — приглашенным ученикам тоже нельзя — кому можно? Только тем, кто принадлежит к главной ветви или является учеником Гусу Лань. Из всех, кто тут был, это — Лань Чжань. А если учесть, что он говорил с шицзе… то вообще красивая и логичная картинка получается. \\r\\r\\n\\r\\r\\nТолько вот… зачем? \\r\\r\\n\\r\\r\\nНарушить правила, которыми ты живешь… ради него? Что за глупость. Вэй Усянь откинулся на подушки, борясь с тошнотой и продолжая рассуждать. Ладно, предположим, что действительно ради него. Но сорвать урок? Собственноручно? Да еще и урок своего дяди? Не привлечь внимание Лань Цижэня на потерявшего сознание ученика, не позвать в класс лекаря, нет — взять его на руки и понести в павильон целителей.\\r\\r\\n\\r\\r\\nОт мыслей, что его несли на руках, щеки запылали. \\r\\r\\n\\r\\r\\nСвятая Гуаньинь, как деву — на руках, почти через все Облачные глубины-ы-ы! \\r\\r\\n\\r\\r\\nВэй Усянь приложил ладони к щекам и впился взглядом в сбитое одеяло. А сидеть три дня возле него зачем? Ну, принес и принес, что бубнить-то. Оставил бы у лекаря — и дело с концом. Под конец навестить, локву принести, кивнуть, торжественно мгмкнуть и удалиться походкой небожителя. \\r\\r\\n\\r\\r\\nСидеть-то и гнездо вить зачем?! \\r\\r\\n\\r\\r\\nВэй Усянь почувствовал, что у него окончательно закипают мозги. Может ли быть?.. Не-не-не! Это же Лань Чжань — ему только дев небесной красоты, божественного сияния и светлейших помыслов! А вот он… \\r\\r\\n\\r\\r\\nВэй Усянь опустил ладони, вглядываясь в них. Грубые руки, с мозолями… а вот он — упал. В Лань Чжаня. Как в омут. Только не в ледяной, а в теплый. Золотистый. Красивый. Как рассвет. \\r\\r\\n\\r\\r\\nГуй дери, право слово, о чем его мысли… \\r\\r\\n\\r\\r\\nЭто как в тех книжонках Не-сюна? Тех, которые он сам страшно прячет, отдает только под пару бутылей вина, три веера и четыре брусочка туши высшего качества? И никогда о них не говорит — улыбается только, как лис, очень хитро и сверкает ореховыми глазами. \\r\\r\\n\\r\\r\\nТех книжках, в которых про любовь. Про ту, где прячут под рукав, когда холодно, улыбаются чище родниковой воды, искрящейся в лучах солнца, обнимают крепче скал и гор. Про ту, от которой пылают щеки сильнее, чем от развратных картинок. Вэй Усянь прочел всего одну — и до сих пор помнит, как у него дрожали губы на моменте, когда Сяо Юй слепо потянулся вперед, к Да Ину, ожидая, что его оттолкнут. \\r\\r\\n\\r\\r\\nВ странице был пропуск, и Вэй Усянь боялся ее перелистывать. \\r\\r\\n\\r\\r\\nНе перелистывал, наверное, пока не минуло два солнца и от рассеянности он не получил синяк под глазом прямиком от четвертого шиди. А уж когда добрался до книжки, пальцами держал эту несчастную страницу. \\r\\r\\n\\r\\r\\nПерелистнул и закрыл глаза. \\r\\r\\n\\r\\r\\nЧерез цзы открыл. \\r\\r\\n\\r\\r\\nИ рассмеялся. \\r\\r\\n\\r\\r\\nСяо Юя притянули и держали в объятьях. Так долго, так долго, что у них день превратился в ночь. Никто никого не отталкивал. Сяо Юй дышал в шею Да Ина, Да Ин держал самого драгоценного человека в своих руках. \\r\\r\\n\\r\\r\\nУ Вэй Ина — дрожали губы. Он вцепился в книгу так, что и зубами было не вырвать. И тихонько запищал. Оказалось, что не тихо, и в следующий момент в него прилетела подушка Цзян Чэна, ворчащего, что ему не дает спать какая-то крыса на соседней постели. \\r\\r\\n\\r\\r\\nВэй Усянь улыбнулся, не отрывая взгляда от своих рук. \\r\\r\\n\\r\\r\\nИ выдохнул. Его мутило и очень хотелось спать. \\r\\r\\n\\r\\r\\nВ дверь негромко постучали, и он вздрогнул, совершенно не ожидая гостей. Цзян Чэн в изножье дернулся, но продолжил спать. За дверью продолжали стоять, и Вэй Ин, не совсем веря своему голосу, решил подняться и открыть самостоятельно. Голова кружилась, ноги почти подгибались, но он был близко — и к двери, и к супу шицзе, который способен был вывести его из спячки.\\r\\r\\n\\r\\r\\nВэй Усянь дернул ручку, впуская нежданного гостя, и замер. \\r\\r\\n\\r\\r\\nНа него смотрел Лань Чжань. \\r\\r\\n\\r\\r\\nИ такое ощущение, что его подменили — в золотистых глазах искры беспокойства, какой-то непонятной задумчивости и так много, много нежности, что поперек горла встал ком, а белые одежды и краски  помутнели. Вэй Усянь мужественно вцепился в косяк, не давая себе осесть прямиком на пол. Сильно это не помогло — его потянуло вперед. \\r\\r\\n\\r\\r\\nИ тут — воздух и белое в лицо. Теплые руки на плечах, сильная хватка, и золото-золото-золото глаз. Вэй Усянь чувствует себя сорокой, падкой на все блестящее. А еще — юной девой. Лань Чжань беззвучно подхватывает его,  перемещает руки на шею и поднимает второй рукой. \\r\\r\\n\\r\\r\\nИ все так правильно. \\r\\r\\n\\r\\r\\nОт этой правильности у Вэй Усяня готов пар из ушей пойти от того, как перехватывает дыхание и затапливает смущением. Лань Чжань невозмутимо возвращает его в постель, не забывая закрыть дверь. Со спокойным лицом протягивает вынутый из рукава эликсир, рукой касается воды в чаше и отжимает тряпку. \\r\\r\\n\\r\\r\\nВэй Усянь глотает невкусное нечто и внимательно следит за Лань Чжанем. \\r\\r\\n\\r\\r\\nТряпку кладут ему на лоб, задерживая пальцы на непозволительно-долгое время. Вэй Ин не против — от прикосновения в теле поселяется незнакомое ощущение тепла. После Лань Чжань приносит суп и с вопросом глядит. От чаши идет легкий пар, а запах свиных ребрышек, как обычно, пробуждает аппетит. Вэй Усянь кивает, и ткань слетает со лба. Лань Чжань улыбается, глядя на него и заботясь о нем.  \\r\\r\\n\\r\\r\\nЕдва-едва, уголками губ, с ласковым свечением счастья в глазах. \\r\\r\\n\\r\\r\\nВэй Усянь честно себе признается — на этот свет он готов смотреть вечность. Он мягкий, ласкающий, не обжигает и притягивает его, как мотылька, не давая и мяо покоя. Только смотреть-смотреть-смотреть, задыхаясь от невысказанного искренне-нежного восторга.  \\r\\r\\n\\r\\r\\nЛань Чжань кормит его с ложки, внимательно-чуткий, осторожный. \\r\\r\\n\\r\\r\\nУ него руки пахнут — горечавкой и пылью библиотечного павильона. Чернилами. Корнями лотоса. Лотоса? Вэй Усянь открывает глаза, всматриваясь в ладони Лань Чжаня. Ох, у него они тоже — грубые, с мозолями на кончиках пальцев. Лотосы… действительно пахнет ими. Вэй Усянь глядит из-под ресниц. \\r\\r\\n\\r\\r\\n— Лань Чжань, а, Лань Чжань? \\r\\r\\n\\r\\r\\n— Мгм? Осторожнее, Вэй Ин. \\r\\r\\n\\r\\r\\n— Это ты? — Он указывает взглядом на суп, и Лань Чжань ме-е-едле-енно кивает. Вэй Усянь давится лотосом, закашливаясь и давясь. В золотых глазах — волной поднимается беспокойство, едва-едва приподнимаются брови, приоткрывается рот, и Вэй Ин не может оторваться. Лань Чжань осторожно хлопает его по спине, протягивая ткань. Вэй Усянь хватает ее, вытирая рот. \\r\\r\\n\\r\\r\\n—  Мне помогала дева Цзян. Она сказала, что ты любишь этот суп. \\r\\r\\n\\r\\r\\nВсё. Десять из десяти. Точное попадание стрелой прямиком ему в сердце. \\r\\r\\n\\r\\r\\n— Лань Чжань, прошу, не обижайся! Я сейчас кое-что сделаю, хорошо? Ты можешь меня оттолкнуть, но… но я не обижусь! Все в порядке! Я сейчас кое-что сделаю! Можешь закрыть глаза, не волнуйся, ничего страшного не произойдет!.. — Лань Чжань действительно улыбается. Вэй Ин смотрит, дыхание сбивается. Он словно собирается прыгать с огромной высоты в ущелье с талой водой. \\r\\r\\n\\r\\r\\nЛань Чжань закрывает глаза. \\r\\r\\n\\r\\r\\nИ Вэй Усянь бросается вперед. \\r\\r\\n\\r\\r\\nПальцы касаются ткани, случайно трогают ленту, он лицом утыкается в ткань на плече, чувствуя, как под ладонями напрягаются и мгновенно расслабляются мышцы, в нос ударяет запах сандала, нос щекочут волосы, и Вэй Ин прижимается еще сильнее, практически перетягивая себя с постели на колени Лань Чжаня. \\r\\r\\n\\r\\r\\nОн позволяет себе слабость обнимать Лань Чжаня дольше, чем пообещал до этого. \\r\\r\\n\\r\\r\\nИ чувствует, как на лопатки ложатся другие, теплые, пахнущие горечавкой ладони. Сердце бешено колотится, и Вэй Усянь низко подвывает, вжимаясь в Лань Чжаня так сильно, что на мгновение почудилось, что нет ни Лань Чжаня, ни его, есть только они. \\r\\r\\n\\r\\r\\nОбъятия действительно заставляют его губы дрожать. \\r\\r\\n\\r\\r\\nЛань Чжань двигается, устраивая его удобнее, обнимая удобнее, становясь вообще удобным.\\r\\r\\n\\r\\r\\nСвоим. \\r\\r\\n\\r\\r\\nВэй Усянь не говорит ни слова. Лань Чжань — тем более. Но это молчание, все-таки, говорит больше огромных письмён в библиотечном павильоне вместе взятых. Они молчат и дышат практически в унисон. Мир сужается до одной точки и момента сейчас, который длится долго. Так долго, что успевает проснуться убито спящий Цзян Чэн. \\r\\r\\n\\r\\r\\n— На вас смотришь, и на зубах аж сахар скрипит, — честно поделился он, продрав глаза.  Вэй Усянь вздрагивает и отлипает лицом от белоснежного ханьфу Лань Чжаня. И уже ожидает, что его спихнут на пол за столь ужасное нарушение личных границ. Но — его только приобнимают крепче, не давая съехать с колен. \\r\\r\\n\\r\\r\\nЛань Чжань с несколько мяо смотрит ему в глаза, и — наклоняется, оставляя мимолетный поцелуй в уголке губ. Вэй Усянь чувствует, что почти теряет сознание, Цзян Чэн закрывает глаза и с закрытыми глазами уходит из покоев вон. Слышен восторженный победный крик Цзян Яньли и восклицание Цзян Чэна. \\r\\r\\n\\r\\r\\nЛань Чжань снова его обнимает. \\r\\r\\n\\r\\r\\nВэй Усянь выдыхает и признается — в этих объятьях действительно можно быть вечность. \\r\\r\\n\\r\\r\\nИли две. \\r\\r\\n\\r\\r\\nА впрочем, чисел не хватит.","12":"864"},{"1":"3","2":"/readfic/10399096","3":"Волосы цвета траура","4":"","5":"authors","6":"5199574","7":"Nightmares Little","8":"1","9":"Неукротимый","10":"Введение","11":"Миг запомнился особо хорошо в воспалённом болью мозгу. Укусы, рассредоточенные по всему телу из-за ходячих мертвецов. Разъярённые крики толпы вдалеке, ведомые ненавистью. Все, собравшиеся здесь, с упоением смотрят на последние минуты жизни Старейшины Илин. Свершилось правосудие! Всем, так или иначе, воздастся за свои поступки! Небеса милостивы и справедливы!\\r\\r\\n\\r\\r\\n        Искажённые злостью лица не отводили своих глаз. Вэй Усяню было не до них. Куски за кусками, теряя плоть и кровь, алые глаза искали знакомую фигуру среди адептов в траурных одеждах. Увидеть его напоследок. Запомнить черты. Попрощаться.\\r\\r\\n\\r\\r\\n        Нет. Лань Ванцзи не пришел. Смиренная улыбка явила себя на лице. Губы безвучно зашевелились, но слова не успели сорваться. Взгляд, перенаправленный на Цзян Чэна, потускнел. Узел красной ленты ослаб, а ветер унёс её на небольшое расстояние. \\r\\r\\n\\r\\r\\n        Небо, заволоченное тучами, казалось, потемнел ещё больше. Хлынули первые капли дождя, усилился ветер. Ликующим заклинателям погода не испортила настроение. Это небо наказывает открывателя Темного Пути. Это небо на их стороне. Раздался грохот, молния ударила в землю. \\r\\r\\n\\r\\r\\n        От трупа не осталось и целого места: Ходячие мертвецы разодрали её, не оставив и костей. Лоскуты ткани, что осталось из одежды, потрёпанные, грязные, валялись никому не нужные. \\r\\r\\n\\r\\r\\n        Так положили конец злодеянием Старейшины Илин. Так этот день превратили в праздник.","12":"47"},{"1":"4","2":"/readfic/9952408","3":"Проверка на прочность","4":"","5":"authors","6":"3889954","7":"Cold-BloodedDevil","8":"52","9":"Неукротимый","10":"Семья","11":"На утро я уже не чувствовал себя настолько истощённым. Но тяжесть всея мира обрушилась на меня сразу после осознания произошедших событий. Можно я продолжу дальше спать и забуду про всё, что произошло?\\r\\r\\n\\r\\r\\nВообще с самого утра всё пошло к чёрту. Хотя я и есть чёрт… Ну в общем всё началось с того, что я чуть ли не свалился с кровати. Мне приснился действительно страшный сон… Как только я встал, перед глазами всё резко потемнело и куда-то поплыло. Держу пари, учитель Лань сейчас чувствует себя гораздо лучше, чем я.  \\r\\r\\n\\r\\r\\nКогда я вышел из своей комнаты, то чуть ли не сразу наткнулся на Фею, которая почему-то бегает по всей округе. Где этот непослушный ребёнок? Почему он не держит свою собаку при себе!?\\r\\r\\n \\r\\r\\nКак только я от неё оторвался, это было, кстати, довольно сложно и теперь моё сердце колотилось как бешеное, мне не пришло в голову занятие лучше, как бессмысленно скитаться по Пристани Лотоса. \\r\\r\\n\\r\\r\\nСейчас я чувствую себя тем маленьким беззащитным ребёнком, который скитался по неизвестному ему миру, убегал от собак и пытался выжить. Единственное, что сейчас поменялось это то, что у меня есть Цзян Чэн, Цзинь Лин, А-Юань и Вэнь Нин. Кстати говоря, о них, я их не видел со вчерашнего вечера. Вообще думаю, Вэнь Нин с Лань Юанем вернулись в ГуСу или ещё куда. У них же есть свои дела и некогда им просто так тут торчать. \\r\\r\\n \\r\\r\\nЯ просто снова никому не нужный человек.\\r\\r\\n\\r\\r\\n- Дядя Вэй, дядя Вэй, - вдруг послышалось где-то сзади. Это был голос Цзинь Лина. Так странно слышать это обращение от него.\\r\\r\\n \\r\\r\\n- Почему ты тут шатаешься? Тебя заждались все. \\r\\r\\n\\r\\r\\n- Меня? Все? М-меня кто-то где-то ждёт? – мои глаза стали размером с орбиту. \\r\\r\\n\\r\\r\\n- О господи…, - Цзинь Лин драматично закатил глаза, - ты забыл, что дядя вчера вечером просил тебя прийти и вместе со всеми позавтракать? \\r\\r\\n\\r\\r\\n- А, - я виновато почесал затылок, - я совсем забыл.\\r\\r\\n\\r\\r\\n- Пошли скорее, - я ничего не успел понять, как Цзинь Лин схватил меня за руку и куда-то побежал. Ещё чуть-чуть и я бы встретился лицом с землёй. \\r\\r\\n\\r\\r\\nМы довольно быстро добежали до главного зала. Там нас уже ждал Цзян Чэн. \\r\\r\\n\\r\\r\\n- Где это ты так долго шлялся? – он грозно посмотрел на меня, но при этом мне не казалось, что в любой момент на меня могут накричать или чего похуже. Как будто он этим взглядом показывает своё беспокойство. \\r\\r\\n\\r\\r\\n- Прости, прости, я совсем забыл про…\\r\\r\\n\\r\\r\\n- Господин Вэй! - раздалось радостно возле меня, - Мы очень волновались за вас. Вэнь Нин пришёл к вам в покои, а вас там нет. \\r\\r\\n\\r\\r\\n- Не стоит так за меня беспокоиться, я просто гулял. \\r\\r\\n\\r\\r\\n- Ну, раз просто гулял, - вдруг заговорил Цзян Чэн, и я повернул голову к нему, - должен был уже нагулять аппетит. Садись, сегодня мы едим все вместе. \\r\\r\\n\\r\\r\\nЧестно, я был в шоке. Цзян Чэн никогда не проявлял такой заботы по отношению ко мне. И он даже Вэнь Нину позволяет находиться в Пристани Лотоса. \\r\\r\\n\\r\\r\\nЯ не стал медлить и сел за стол, остальные тоже сразу подсели к нам. Вот так вместе мы никогда не сидели. Я чувствую себя так хорошо в кругу «семьи». \\r\\r\\n\\r\\r\\nВо время еды никто не говорил. Каждый наслаждался этим прекрасным моментом и не хотел портить дружескую атмосферу. Но тут…\\r\\r\\n\\r\\r\\n- Глава ордена, - сказал подошедший приближённый Цзян Чэна, - орден Цин Хе Не приглашает вас и орден Лань на ночную охоту. \\r\\r\\n\\r\\r\\nОрден…\\r\\r\\n\\r\\r\\nЛань…\\r\\r\\n\\r\\r\\nМеня прошибло мелкой дрожью. Всё тело трясло. Руки задрожали так, что палочки выпали из них. А мир вновь перевернулся с ног на голову.\\r\\r\\n\\r\\r\\n- Вэй Ин.\\r\\r\\n\\r\\r\\nПеред глазами резко потемнело. \\r\\r\\n\\r\\r\\n-Вэй Ин!\\r\\r\\n\\r\\r\\nА теперь и полетело куда-то. Но сильные руки поймали меня. \\r\\r\\n\\r\\r\\n- Вэй Ин, всё хорошо? Ты в порядке? – голос Цзян Чэна был взволнованным. \\r\\r\\n\\r\\r\\nПеред глазами всё ещё было темно и как-то мутно. Я попытался сморгнуть эту муть и увидел четыре шокированных пары глаз, смотрящих на меня.\\r\\r\\n\\r\\r\\n- В-все хорошо, - чёрт, почему голос так предательски дрожит, - я в п-порядке. \\r\\r\\n\\r\\r\\n- Не надо лгать мне, Вэй Ин, мы росли вместе, я вижу, что у тебя все не в порядке. Если  тебе больно или плохо или ещё что, не пытайся спрятаться. Ты можешь поговорить с любым из нас. \\r\\r\\n\\r\\r\\n- Знаешь, я бы с тобой не говорил, - подал голос Цзинь Лин.\\r\\r\\n\\r\\r\\n- Заткнись, или я тебе ноги переломаю.\\r\\r\\n\\r\\r\\nОт таких перепалок Цзян Чэна и Цзинь Лина всегда веет семейной заботой, пускай и немного грубой, мне даже как-то легче стало. И именно сейчас я почувствовал, что могу выговориться и снова показать со стороны не сильного Старейшины Илин, а со стороны слабого и болью убитого Вэй Усяня.\\r\\r\\n\\r\\r\\n- Я-я, - глаза стали наполняться слезами, а голос опять задрожал, - я правда не п-понимаю, почему он вдруг меня бросил!? У нас всё было так х-хорошо, он так заботился обо мне. Сильно з-заботился, иногда даже чересчур. Почему же он так п-поступил со м-мной!? Цзян Чэн, я не знаю, к-как мне жить без него!? Без его заботы…, - слёзы стали ещё сильнее течь из моих глаз, я чувствовал себя таким истощённым. Лишь руки, держащие меня, не давали упасть. Я чувствовал, как Цзян Чэн всё сильнее и сильнее сжимает меня с каждым произнесённым словом. А я, уже не сдерживаясь, начал всхлипывать, утыкаясь А-Чэну лицом куда-то в район шеи. \\r\\r\\n\\r\\r\\n- Всё хорошо, я рядом, - успокаивающая рука стала гладить меня по спине. \\r\\r\\n\\r\\r\\nЯ в безопасности. Я чувствую, что нахожусь в безопасности. \\r\\r\\n\\r\\r\\nСпустя неделю.\\r\\r\\n\\r\\r\\nПогода сильно испортилась. На улице с самого утра шёл сильный ливень. Мы с Цзян Чэном сидели в главном зале и обсуждали, стоит ли сейчас идти на охоту организованную орденом Не. \\r\\r\\n\\r\\r\\n- Ты должен пойти, иначе другие могут не то подумать, - я уже вечность пытаюсь уговорить его, но он упёрся и не слушает.\\r\\r\\n\\r\\r\\n- Я сказал нет, значит нет. Вэй Ин, я не хочу оставлять тебя здесь одного, особенно в такой момент.\\r\\r\\n\\r\\r\\n- Цзя…, - я хотел снова возразить, но Цзян Чэн резко встал, сильно ударив Цзыдянем по полу. Я вздрогнул.\\r\\r\\n\\r\\r\\n- Мы останемся здесь и никуда не пойдём, - уже спокойнее добавил А-Чэн, - Я знаю, что тебе сейчас нелегко, поэтому не хочу покидать тебя. \\r\\r\\n\\r\\r\\nМесяц спустя.\\r\\r\\n\\r\\r\\nЯ уже потихоньку привыкаю жить без Лань Чжаня. Вроде бы не так уж и сложно. Цзян Чэн старается меня одного не оставлять и постоянно крутится рядом со мной либо не даёт мне уйти от себя. \\r\\r\\n\\r\\r\\nНо всё равно по вечерам в своих покоях меня накрывает по полной. И я лежу так, свернувшись калачиком, и уперевшись лицом в колени, тихонько плачу. Лишь бы не услышал Цзян Чэн, я не хочу, чтобы он ещё больше переживал за меня. \\r\\r\\n\\r\\r\\nПравда, в один день он все же застал меня в одном из таких приступов.\\r\\r\\n\\r\\r\\nБыло уже довольно поздно, а мне не спалось.  Делать было нечего, вот мысли и улетели обратно к Лань Чжаню. Почему-то именно в этот день мне решились вспомниться наши самые счастливые моменты. Я лежал на кровати, укутавшись одеялом, и сильно дрожал. Мне было настолько плохо, что я уже не мог сдерживать сильных и рваных всхлипов. \\r\\r\\n\\r\\r\\nА Цзян Чэн в этот момент решал какие-то свои дела и ненароком прошёл рядом с моей комнатой. Он очень сильно перепугался, так как я был весь мокрый и лихорадочно дрожал. \\r\\r\\nЧуть позже оказалось, что я умудрился заболеть. Ну да не надо ночами под дождём гулять. Такое тоже случалось в моменты сильной тоски. \\r\\r\\n\\r\\r\\nСпустя полгода. \\r\\r\\n\\r\\r\\nЯ как обычно прогуливаюсь по Пристани лотоса. Это так успокаивает. Иногда со мной гуляет Цзинь Лин и мы подолгу болтаем о всякой всячине. Вообще мы часто стали с ним заниматься всякой ерундой. Я чувствую себя беззаботным подростком. Правда я вообще не пользовался духовными силами с того момента. Да и тёмными силами тоже. Сейчас мой образ жизни похож на жизнь обычного человека. Я чувствую, как с каждым днём становлюсь все слабее и слабее. Без практики моё тело совсем ослабнет. \\r\\r\\n\\r\\r\\nЦзян Чэн из-за этого сильно беспокоится.\\r\\r\\n\\r\\r\\n- Вэй Ин, хватит себя убивать. Попробуй хотя бы иногда совершенствоваться. Посмотри на себя, синяки под глазами, весь какой-то бледный, кости тонким слоем кожей обтянуты. Да ты на зомби похож. \\r\\r\\nНе знаю, сил что-либо делать нет, да и не хочется. Зачем мне это надо. Только напоминать будет о не самых лучших временах.\\r\\r\\n\\r\\r\\nСейчас мне уже гораздо лучше морально. Спустя ещё время я смогу совсем обо всём забыть и жить спокойнее. Думаю так будет даже лучше. \\r\\r\\n\\r\\r\\n\\r\\r\\n","12":"260"},{"1":"5","2":"/readfic/9994539","3":"Поменявшиеся - Экстры (Switched - Extras)","4":"","5":"authors","6":"572588","7":"Aiky","8":"4","9":"Неукротимый","10":"Глава 9 CQL: Спрашивать советы в Reddit - не лучшая идея","11":"r / AmItheAsshole • опубликовано u / strongwifi \\r\\r\\n…………………………………………………….\\r\\r\\n \\r\\r\\nБуду ли я мудаком, если я выставлю за дверь беременную знакомую?\\r\\r\\n\\r\\r\\n…………………………………………………….\\r\\r\\n      Итак, я (28, М) и мой партнер (22, М) совсем недавно обручились. Мы живём вместе несколько месяцев, но из-за нашей работы редко проводим время вместе (я графический дизайнер, он мотогонщик). После почти полумесячных задержек на работе я, наконец-то, смог освободиться пораньше. Мы давно не ужинали вместе, поэтому я решил приготовить тушеное мясо для нас двоих и посмотреть наши любимые фильмы во время ужина. Я уже купил ингредиенты, всё было спланировано и готово для нашего идеального домашнего свидания.\\r\\r\\n\\r\\r\\n      Но когда я приехал домой, то обнаружил знакомого с его мужем в нашей гостиной. Он играл с моей кошкой, а его муж молча за ними наблюдал. Я буквально закричал и выронил продукты (мои яблоки для десерта теперь побитые QAQ). Итак, эти мои знакомые живут очень-очень далеко (я не преувеличиваю, они живут совершенно в другом мире). Они здесь из-за прескверных обстоятельств, которые я не могу объяснить, они не могут вернуться из-за других обстоятельств, которое я также не могу объяснить (допустим, демон переправил их сюда, поэтому им нужен демон, чтобы вернуться обратно). Слишком сложно объяснить, почему они здесь и почему они не могут вернуться, но я всего лишь хочу сказать, что этому моему знакомому и его мужу некуда идти.\\r\\r\\n\\r\\r\\n      Они здесь без денег, они приехали из настолько отдалённого места, что там нет машин, интернета и даже электричества. Обычно я протягиваю руку помощи любому нуждающемуся знакомому, но не так давно эти люди доставили мне некоторые неприятности. Мой знакомый почти испортил мою репутацию, сказав вещи, которые нельзя было говорить, или неуместно формулировал их, травмировал моих коллег каким-то оккультным ритуалом (он увлекается демоническими штуками, вроде талисманов и духовной атрибутики), и много раз подвергал мою жизнь смертельной опасности (серьёзно, я чуть не подорвался). Его муж разбил супердорогой мотоцикл моего жениха. Кроме того, эти двое как-то раз подглядывали за нами, когда мы с моим женихом были близки, и это было очень неловко. Они вошли незаметно и наблюдали за нами в течение трёх часов.\\r\\r\\n\\r\\r\\n      Я поклялся, что если я когда-нибудь снова увижу этих двоих, то я обрею их налысо и кастрирую - вот как я их ненавижу. Однако мой знакомый сейчас на 36 неделе беременности и может в любой момент родить. Как бы мне ни хотелось выгнать их из своей квартиры, я считаю неправильным так обращаться с беременным человеком. Тем не менее, я просто боюсь, что если я позволю им остаться, они сожгут наш дом, пытаясь что-нибудь приготовить, пока мы на работе. У моего жениха совсем пропал аппетит, как только он увидел мужа моего знакомого, потому что это напомнило ему о его любимом разбитом мотоцикле.\\r\\r\\n\\r\\r\\n      Стану ли я мудаком, если вышвырну из дома моего беременного знакомого и его мужа?\\r\\r\\n\\r\\r\\n……………………………………………………. \\r\\r\\n692 комментария • Поделиться • Сохранить • Скрыть • Пожаловаться\\r\\r\\n…………………………………………………….\\r\\r\\n \\r\\r\\nОпрос:\\r\\r\\n…………………………………………………….\\r\\r\\nYTA: Ты мудак (а не они)\\r\\r\\n\\r\\r\\nNTA: Ты не мудак (а они)\\r\\r\\n\\r\\r\\nESH: Здесь все мудаки\\r\\r\\n\\r\\r\\nNAH: Здесь нет мудаков\\r\\r\\n\\r\\r\\nINFO: недостаточно информации \\r\\r\\n…………………………………………………….\\r\\r\\n \\r\\r\\n\\r\\r\\ntrashybin\\r\\r\\n…………………………………………………….\\r\\r\\nESH. Я полностью понимаю Ваши чувства, потому что Ваша ситуация очень напоминает ситуацию моего коллеги по работе. У него также есть знакомая, которая балуется демоническими искусствами и причиняет вред тут и там. Однако будет не хорошо выгнать беременную женщину просто потому, что она Вам не нравится. По крайней мере, Вы можете отправить их в больницу и позволить социальным работникам помочь им справиться со всеми трудностями, с которыми они столкнулись.\\r\\r\\n\\r\\r\\nps: почему Вы продолжаете писать «он», когда имеете в виду свою знакомую? Как можно постоянно делать одну и ту же опечатку?\\r\\r\\n…………………………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            killerjoy\\r\\r\\n            …………………………………….\\r\\r\\n            Согласен, ESH. Ваши знакомые - мудаки, потому что делали с Вами все эти плохие вещи, но ещё не рождённый ребёнок не виноват. Отправьте их в больницу.\\r\\r\\n            …………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            Chengcheng\\r\\r\\n            …………………………………….\\r\\r\\n            Согласен. Каким бы ужасным ни был человек, это не даёт Вам право быть м%ком. Никогда не забывайте элементарную порядочность. Ребёнок не виноват.\\r\\r\\n            …………………………………….\\r\\r\\n            Ещё 17 ответов\\r\\r\\n            …………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\nlabracadabrador\\r\\r\\n…………………………………………………….\\r\\r\\nINFO. Ваши знакомые какие-то беженцы из стран третьего мира или из очень удаленных районов? Это объяснило бы все «плохие вещи», которые они делали - например, неверные формулировки фраз или поломку дорогого мотоцикла. И почему о них никто не знает, и они не могут вернуться? Возможно, они жертвы торговли людьми? В таком случае власти смогут помочь Вашим знакомым, и Вам не придётся думать об этом. Кстати, как они попали в Вашу квартиру?\\r\\r\\n…………………………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            retriepupble\\r\\r\\n            …………………………………….\\r\\r\\n            Полагаю, его жених был дома и впустил их?\\r\\r\\n            …………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            harley_queen\\r\\r\\n            …………………………………….\\r\\r\\n            Согласен с labracadabrador. На самом деле, чем больше я читаю этот пост, тем меньше я вижу в нём смысла. Может автор это всё выдумал?\\r\\r\\n            …………………………………….\\r\\r\\n            Ещё 12 ответов\\r\\r\\n            …………………………………….\\r\\r\\n \\r\\r\\n\\r\\r\\nstan_rose\\r\\r\\n…………………………………………………….\\r\\r\\nСогласен с другими комментариями, чем больше я читаю это, тем больше я нахожу всё это подозрительным. Однако слишком много странных деталей, чтобы это было фейком.\\r\\r\\n…………………………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            lala_lilisa\\r\\r\\n            …………………………………….\\r\\r\\n            YTA. Автору за то, что запостил фейковую историю.\\r\\r\\n            …………………………………….\\r\\r\\n \\r\\r\\n\\r\\r\\n            bo1nkbo1nk_sendtoad5\\r\\r\\n            …………………………………….\\r\\r\\n            Не знаю, возможно, автор должен скрывать некоторые детали, если речь идет о незаконных вещах. Неважно, он спрашивает, будет ли он мудаком, если выгонит беременную женщину, так он будет.\\r\\r\\n            …………………………………….\\r\\r\\n            Ещё 8 ответов\\r\\r\\n            …………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\nepsteinhereyall\\r\\r\\n…………………………………………………….\\r\\r\\nУ меня так много вопросов без ответа. Автор пытается написать дерьмовую фантастическую книгу?\\r\\r\\n…………………………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            mynameisjeff1\\r\\r\\n            …………………………………….\\r\\r\\n            Я никогда не видел более фейковых историй, чем эта. Было бы весело, если бы автор действительно скрывал дома беременную пару пришельцев.\\r\\r\\n            …………………………………….\\r\\r\\n\\r\\r\\n\\r\\r\\n            Bowsettechan\\r\\r\\n            …………………………………….\\r\\r\\n            Это отстой уровня Нила Брина.\\r\\r\\n            …………………………………….\\r\\r\\n            Ещё 21 ответ\\r\\r\\n            …………………………………….\\r\\r\\n \\r\\r\\n\\r\\r\\nОБНОВЛЕНО:\\r\\r\\n…………………………………………………….\\r\\r\\n      Многие из вас скептически отнеслись к моей истории, но это уже не имеет значения, раз я уже вынес вердикт. Похоже, все согласны с тем, что бросить моего беременного знакомого будет глупо, независимо от наших с ним прошлых отношений. В любом случае, я не могу доставить его в полицию или в больницу, так как у него нет удостоверения личности, но я постараюсь найти способ вернуть его домой до того, как он родит. Всем спасибо; D\\r\\r\\n\\r\\r\\n      PS : Чтобы дать вам представление о том, насколько ужасна эта демоническая сущность, мы поделились с ними тушёным мясом, и он пожаловался, что приготовленная мной еда была недостаточно острой, а когда он съел почти всё, его стошнило. Моему жениху пришлось бежать в ближайший магазин 7-Eleven, чтобы купить соевое молоко, потому что он сказал, что может есть только суп и соевое молоко. Ему нельзя было холодное соевое молоко, поэтому нам пришлось его погреть, и он настоял на том, чтобы мы использовали микроволновую печь вместо плиты, просто потому, что ему захотелось посмотреть, как в ней загорается свет, а миска внутри вращается. У него такой большой живот, что нам пришлось уступить кровать, и мы спали на крошечном раскладном диване (мне пришлось всю ночь обниматься со своим женихом, так что за это их можно и простить). Также, у меня нет дома одежды для беременных, по понятным причинам, и единственная одежда, которая подошла бы ему, - мои зимние джемперы, которые он не хочет носить, потому что в них слишком жарко.\\r\\r\\n\\r\\r\\n      В любом случае, я всё ещё ненавижу его.","12":"282"},{"1":"6","2":"/readfic/9829688","3":"Пепел и пряности","4":"","5":"authors","6":"3925","7":"Sh.R","8":"79","9":"Неукротимый","10":"Вместо эпилога","11":"— Так, значит, во всем опять виноват Сюэ Ян!\\r\\r\\n\\r\\r\\nСамым странным в этом было то, что Цзян Чэн не бесился — только делал вид. Вэй Усянь хорошо в этом разбирался. Возможно, все дело было в облегчении, который тот испытал, поняв, что племяннику ничто не грозит.\\r\\r\\n\\r\\r\\n— Ну как — виноват, — Вэй Усянь повертел в пальцах цянькун, в котором хранилась душа Сяо Синчэня. Сейчас тот пытался освоиться в новом теле, и в отдельном хранилище больше не нуждался. — Он знал, что где-то существует обряд, позволяющий вселить душу в добровольно пожертвованное тело, но не знал, где эта запись. Поэтому, по своему разумению, написал нужные руны на мешочке и чертеже — видимо, в городе И были проблемы с нормальной бумагой. И раз Цзинь Гуанъяо не пожелал занять предложенное ему тело, его занял Сяо Синчэнь! Единственным условием было — душа должна снова собраться из осколков. И видимо, Сунь Ланю это удалось!\\r\\r\\n\\r\\r\\nЦзян Чэн брезгливо поморщился и отвел взгляд:\\r\\r\\n\\r\\r\\n— Ты все еще собираешься заниматься этим вот?..\\r\\r\\n\\r\\r\\n— Только по мере надобности, обещаю! Ты же не собираешься снова открыть охоту на последователей Темного пути?\\r\\r\\n\\r\\r\\nВэй Усянь по привычке широко улыбался, хотя и чувствовал себя очень неуютно. Одновременно было что-то успокаивающее в том, чтобы чувствовать себя неуютно рядом с братом: тот ничего не замечал и не выспрашивал.\\r\\r\\n\\r\\r\\nНекоторые вещи никогда не менялись.\\r\\r\\n\\r\\r\\n— Только на самых наглых, — хмыкнул тот и снова нахмурился. — Вэй Усянь. Ты выглядишь почти как вменяемый заклинатель. Если ты хочешь снова стать нормальным…\\r\\r\\n\\r\\r\\n— Нет, — тихо и твердо отрезал Вэй Усянь. — Я не оставлю Лань Чжаня. Он может жить в Облачных Глубинах или в Дунъине, на дне моря или на луне — я все равно вернусь к нему.\\r\\r\\n\\r\\r\\n— То есть то, что я твой брат, теперь для тебя ничего не значит? Интересно, чем он лучше меня? — это прозвучало практически обиженно. Что, в сущности, было правдой.\\r\\r\\n\\r\\r\\n— Я могу заходить к тебе в гости как к брату, если ты позволишь. Но то обещание. Не проси меня больше исполнить его. Я уже говорил, я не смогу его исполнить. Не больше, чем просто помогать, приходить в гости и быть не самым образцовым дядюшкой Цзинь Лину!\\r\\r\\n\\r\\r\\nЦзян Чэн немного помолчал и вздохнул, нахохлился недовольно:\\r\\r\\n\\r\\r\\n— Как вообще так вышло? Лань Ванцзи всегда славился своей сдержанностью, он бы никогда…\\r\\r\\n\\r\\r\\n— Лань Чжань бы каждый день! — фыркнул Вэй Усянь, любуясь, как вспыхивают щеки брата при одном намеке. — Просто… ну не сложилось у нас раньше, понимаешь?\\r\\r\\n\\r\\r\\n— Не понимаю. Я бы и тогда прибил вас обоих!\\r\\r\\n\\r\\r\\nВэй Усянь чуть прищурился и посмотрел на него:\\r\\r\\n\\r\\r\\n— А сейчас?\\r\\r\\n\\r\\r\\nЦзян Чэн отвернулся и посмотрел вдаль — туда, где на хрупком мостике его ждал Не Хуайсан, коротая время за кормежкой карпов.\\r\\r\\n\\r\\r\\n— А сейчас я вожусь с тобой и этим беспомощным ребенком, чтобы угодить какому-то там духу, а потом не сплю по ночам, разбираясь с последствиями твоих изобретений! — отрезал тот и отвернулся, зашагал прочь.\\r\\r\\n\\r\\r\\n— Это не ответ, Цзян Чэн! — забавляясь, прокричал вслед Вэй Усянь.\\r\\r\\n\\r\\r\\n— Отвали, придурок!\\r\\r\\n\\r\\r\\nИ прозвучало это как «Заходи при случае на чай».","12":"213"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Для преобразование строки в список из разделенных строк используйте <code>str_split()</code>. Например, если нам нужно узнать домен почты:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="работа-со-строками.html#cb83-1" aria-hidden="true" tabindex="-1"></a>dummy_emails <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;andan@gmail.com&quot;</span>, <span class="st">&quot;icedone@mail.ru&quot;</span>, <span class="st">&quot;imdone@un.org&quot;</span>)</span>
<span id="cb83-2"><a href="работа-со-строками.html#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="fu">str_split</span>(dummy_emails, <span class="st">&quot;@&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [1] &quot;andan&quot;     &quot;gmail.com&quot;
## 
## [[2]]
## [1] &quot;icedone&quot; &quot;mail.ru&quot;
## 
## [[3]]
## [1] &quot;imdone&quot; &quot;un.org&quot;</code></pre>
<p>Кроме того, иногда вам может помочь функция <code>str_split_fixed()</code>, если у вас есть список строк, которые вам нужно разбить на части, у этих строк есть определенный паттерн, по которому они составлены, и вы всегда знаете, на сколько частей нужно эти строки разбить:</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb85-1"><a href="работа-со-строками.html#cb85-1" aria-hidden="true" tabindex="-1"></a>dummy_books <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;1974_Carrie_Doubleday&quot;</span>, <span class="st">&quot;1975_Salem&#39;s_lot_Doubleday&quot;</span>, <span class="st">&quot;1977_The_Shining_Doubleday&quot;</span>)</span>
<span id="cb85-2"><a href="работа-со-строками.html#cb85-2" aria-hidden="true" tabindex="-1"></a><span class="co">#хотим список книг СМтивена Кингана 2 части</span></span>
<span id="cb85-3"><a href="работа-со-строками.html#cb85-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str_split_fixed</span>(dummy_books, <span class="at">pattern=</span><span class="st">&quot;_&quot;</span>, <span class="at">n=</span><span class="dv">2</span>)</span></code></pre></div>
<pre><code>##      [,1]   [,2]                   
## [1,] &quot;1974&quot; &quot;Carrie_Doubleday&quot;     
## [2,] &quot;1975&quot; &quot;Salem&#39;s_lot_Doubleday&quot;
## [3,] &quot;1977&quot; &quot;The_Shining_Doubleday&quot;</code></pre>
<p>Но это не всегда хорошо работает, поэтому существуют регулярные выражения:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="работа-со-строками.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_split_fixed</span>(dummy_books, <span class="at">pattern=</span><span class="st">&quot;_&quot;</span>, <span class="at">n=</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>##      [,1]   [,2]      [,3]               
## [1,] &quot;1974&quot; &quot;Carrie&quot;  &quot;Doubleday&quot;        
## [2,] &quot;1975&quot; &quot;Salem&#39;s&quot; &quot;lot_Doubleday&quot;    
## [3,] &quot;1977&quot; &quot;The&quot;     &quot;Shining_Doubleday&quot;</code></pre>
</div>
<div id="работа-с-подстрокой" class="section level2" number="2.5">
<h2><span class="header-section-number">2.5</span> Работа с подстрокой</h2>
<ul>
<li>Поиск подстроки</li>
</ul>
<p>Функция <code>str_detect()</code> ищет подстроку в строке и возвращает TRUE или FALSE:</p>
<div class="sourceCode" id="cb89"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb89-1"><a href="работа-со-строками.html#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">mn =</span> month.name) <span class="sc">%&gt;%</span> </span>
<span id="cb89-2"><a href="работа-со-строками.html#cb89-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">has_r =</span> <span class="fu">str_detect</span>(mn, <span class="st">&quot;r&quot;</span>))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mn"],"name":[1],"type":["chr"],"align":["left"]},{"label":["has_r"],"name":[2],"type":["lgl"],"align":["right"]}],"data":[{"1":"January","2":"TRUE"},{"1":"February","2":"TRUE"},{"1":"March","2":"TRUE"},{"1":"April","2":"TRUE"},{"1":"May","2":"FALSE"},{"1":"June","2":"FALSE"},{"1":"July","2":"FALSE"},{"1":"August","2":"FALSE"},{"1":"September","2":"TRUE"},{"1":"October","2":"TRUE"},{"1":"November","2":"TRUE"},{"1":"December","2":"TRUE"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>А функция <code>str_which()</code> возвращает индекс элесента, в котором есть совпадение с подстрокой, которую ищут:</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="работа-со-строками.html#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_which</span>(month.name, <span class="st">&quot;r&quot;</span>)</span></code></pre></div>
<pre><code>## [1]  1  2  3  4  9 10 11 12</code></pre>
<div class="sourceCode" id="cb92"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb92-1"><a href="работа-со-строками.html#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co">#фильтр по наличию подстроки</span></span>
<span id="cb92-2"><a href="работа-со-строками.html#cb92-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">mn =</span> month.name) <span class="sc">%&gt;%</span> </span>
<span id="cb92-3"><a href="работа-со-строками.html#cb92-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">slice</span>(<span class="fu">str_which</span>(mn, <span class="st">&quot;r&quot;</span>))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mn"],"name":[1],"type":["chr"],"align":["left"]}],"data":[{"1":"January"},{"1":"February"},{"1":"March"},{"1":"April"},{"1":"September"},{"1":"October"},{"1":"November"},{"1":"December"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Если нужно вернуть не индекс, а сам элемент, в котором есть подстрока, можно также использовать <code>str_subset</code>:</p>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="работа-со-строками.html#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_subset</span>(month.name, <span class="st">&quot;r&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;January&quot;   &quot;February&quot;  &quot;March&quot;     &quot;April&quot;     &quot;September&quot; &quot;October&quot;  
## [7] &quot;November&quot;  &quot;December&quot;</code></pre>
<p><code>str_count()</code> возвращает количество вхождений данной подстроки в строке:</p>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="работа-со-строками.html#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_count</span>(month.name, <span class="st">&quot;r&quot;</span>)</span></code></pre></div>
<pre><code>##  [1] 1 2 1 1 0 0 0 0 1 1 1 1</code></pre>
<p>Также в зависимости от задачи, вам могут пригодиться функции <code>str_locate()</code> и <code>str_locate_all()</code></p>
</div>
<div id="изменение-строки" class="section level2" number="2.6">
<h2><span class="header-section-number">2.6</span> Изменение строки</h2>
<p>Ну и самый сок, наиболее часто используемые функции связаны с преобразованием строк. Особенно популярны при “чистке” данных.</p>
<ul>
<li>Изменение регистра</li>
</ul>
<p>Все просто, для приведения всех букв к заглавным используется <code>str_to_upper()</code></p>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="работа-со-строками.html#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_to_upper</span>(month.name)</span></code></pre></div>
<pre><code>##  [1] &quot;JANUARY&quot;   &quot;FEBRUARY&quot;  &quot;MARCH&quot;     &quot;APRIL&quot;     &quot;MAY&quot;       &quot;JUNE&quot;     
##  [7] &quot;JULY&quot;      &quot;AUGUST&quot;    &quot;SEPTEMBER&quot; &quot;OCTOBER&quot;   &quot;NOVEMBER&quot;  &quot;DECEMBER&quot;</code></pre>
<p>Чаще всего все буквы приводят к прописным:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="работа-со-строками.html#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_to_lower</span>(month.name)</span></code></pre></div>
<pre><code>##  [1] &quot;january&quot;   &quot;february&quot;  &quot;march&quot;     &quot;april&quot;     &quot;may&quot;       &quot;june&quot;     
##  [7] &quot;july&quot;      &quot;august&quot;    &quot;september&quot; &quot;october&quot;   &quot;november&quot;  &quot;december&quot;</code></pre>
<p>Можно и так</p>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="работа-со-строками.html#cb101-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_to_title</span>(some_txt)</span></code></pre></div>
<pre><code>## [1] &quot;Lorem Ipsum Dolor Sit Amet, Metus Integer Iaculis Tincidunt Ac Orci Convallis. Metus Duis Neque Ligula Natoque Nostra Vel Montes Fringilla. Efficitur Arcu Dolor Vel Et Diam, Tincidunt, Rhoncus, Ad Donec. Rutrum Mauris Ornare Suspendisse Justo, Vehicula Id Diam, Mollis Ut. Velit Et Eu, Mauris Nunc Vestibulum Sapien. Augue Dignissim Vulputate Montes Ipsum Rutrum, Eu, Eu. Porta Faucibus Maximus Ac Fusce Placerat. In Imperdiet Libero Cum Conubia Lacus. Ornare Tempor Vel Nam, Pulvinar, Imperdiet Sit, Vestibulum Ipsum Orci.&quot;</code></pre>
<ul>
<li>Выделение подстроки</li>
</ul>
<p>Выделить подстроку из строки можно, указав индексы (<code>str_sub()</code>)…</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="работа-со-строками.html#cb103-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">mn =</span> month.name) <span class="sc">%&gt;%</span> </span>
<span id="cb103-2"><a href="работа-со-строками.html#cb103-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mutate =</span> <span class="fu">str_sub</span>(mn, <span class="at">start =</span> <span class="dv">1</span>, <span class="at">end =</span> <span class="dv">3</span>))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mn"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mutate"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"January","2":"Jan"},{"1":"February","2":"Feb"},{"1":"March","2":"Mar"},{"1":"April","2":"Apr"},{"1":"May","2":"May"},{"1":"June","2":"Jun"},{"1":"July","2":"Jul"},{"1":"August","2":"Aug"},{"1":"September","2":"Sep"},{"1":"October","2":"Oct"},{"1":"November","2":"Nov"},{"1":"December","2":"Dec"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb104"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb104-1"><a href="работа-со-строками.html#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">mn =</span> month.name) <span class="sc">%&gt;%</span> </span>
<span id="cb104-2"><a href="работа-со-строками.html#cb104-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mutate =</span> <span class="fu">str_sub</span>(mn, <span class="at">start =</span> <span class="sc">-</span><span class="dv">3</span>, <span class="at">end =</span> <span class="sc">-</span><span class="dv">1</span>))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mn"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mutate"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"January","2":"ary"},{"1":"February","2":"ary"},{"1":"March","2":"rch"},{"1":"April","2":"ril"},{"1":"May","2":"May"},{"1":"June","2":"une"},{"1":"July","2":"uly"},{"1":"August","2":"ust"},{"1":"September","2":"ber"},{"1":"October","2":"ber"},{"1":"November","2":"ber"},{"1":"December","2":"ber"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>… или указав сам паттерн (подстроку) (<code>str_extract()</code>)</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="работа-со-строками.html#cb105-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tibble</span>(<span class="at">mn =</span> month.name) <span class="sc">%&gt;%</span> </span>
<span id="cb105-2"><a href="работа-со-строками.html#cb105-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">mutate =</span> <span class="fu">str_extract</span>(mn, <span class="st">&quot;e&quot;</span>))</span></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["mn"],"name":[1],"type":["chr"],"align":["left"]},{"label":["mutate"],"name":[2],"type":["chr"],"align":["left"]}],"data":[{"1":"January","2":"NA"},{"1":"February","2":"e"},{"1":"March","2":"NA"},{"1":"April","2":"NA"},{"1":"May","2":"NA"},{"1":"June","2":"e"},{"1":"July","2":"NA"},{"1":"August","2":"NA"},{"1":"September","2":"e"},{"1":"October","2":"e"},{"1":"November","2":"e"},{"1":"December","2":"e"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<p>Как видите, в некоторых словах несколько букв e, но функция возвратила лишь одну. Это потому что <code>str_extract()</code> возвращает только первое вхождение. Для того, чтобы вернуть все вхождения подстроки, используйте <code>str_extract_all()</code>. Вам вернется список.</p>
<div class="sourceCode" id="cb106"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb106-1"><a href="работа-со-строками.html#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_extract_all</span>(month.name, <span class="st">&quot;e&quot;</span>)</span></code></pre></div>
<pre><code>## [[1]]
## character(0)
## 
## [[2]]
## [1] &quot;e&quot;
## 
## [[3]]
## character(0)
## 
## [[4]]
## character(0)
## 
## [[5]]
## character(0)
## 
## [[6]]
## [1] &quot;e&quot;
## 
## [[7]]
## character(0)
## 
## [[8]]
## character(0)
## 
## [[9]]
## [1] &quot;e&quot; &quot;e&quot; &quot;e&quot;
## 
## [[10]]
## [1] &quot;e&quot;
## 
## [[11]]
## [1] &quot;e&quot; &quot;e&quot;
## 
## [[12]]
## [1] &quot;e&quot; &quot;e&quot; &quot;e&quot;</code></pre>
<ul>
<li>замена подстроки</li>
</ul>
<p>Функции <code>str_replace()</code> и <code>str_replace_all()</code> работают аналогично <code>str_extract()</code>, то есть первая заменчет только первое вхождение подстроки, а вторая заменяет все подстроки</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="работа-со-строками.html#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace</span>(<span class="st">&quot;September&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;SEptember&quot;</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="работа-со-строками.html#cb110-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_replace_all</span>(<span class="st">&quot;September&quot;</span>, <span class="st">&quot;e&quot;</span>, <span class="st">&quot;E&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;SEptEmbEr&quot;</code></pre>
<ul>
<li>Удаление подстроки</li>
</ul>
<p>Аналогично работают <code>str_remove()</code> и <code>str_remove_all()</code></p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="работа-со-строками.html#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_remove</span>(<span class="st">&quot;September&quot;</span>, <span class="st">&quot;e&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Sptember&quot;</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="работа-со-строками.html#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str_remove_all</span>(<span class="st">&quot;September&quot;</span>, <span class="st">&quot;e&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Sptmbr&quot;</code></pre>
<ul>
<li>Транслитерация строк</li>
</ul>
<p>Пакет <code>stringi</code> позволяет производить транслитерацию строк. Методы можно посмотреть с помощью функции <code>stri_trans_list()</code></p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="работа-со-строками.html#cb116-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">&quot;фанфик&quot;</span></span>
<span id="cb116-2"><a href="работа-со-строками.html#cb116-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-3"><a href="работа-со-строками.html#cb116-3" aria-hidden="true" tabindex="-1"></a><span class="co">#транслитерация на английский - заметьте, не перевод</span></span>
<span id="cb116-4"><a href="работа-со-строками.html#cb116-4" aria-hidden="true" tabindex="-1"></a><span class="fu">stri_trans_general</span>(x, <span class="st">&quot;cyrillic-latin&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;fanfik&quot;</code></pre>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="работа-со-строками.html#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="co">#с английского на катакану</span></span>
<span id="cb118-2"><a href="работа-со-строками.html#cb118-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stri_trans_general</span>(<span class="st">&quot;fanfic&quot;</span>, <span class="st">&quot;Latin-Katakana&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;ファンフィク&quot;</code></pre>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="работа-со-строками.html#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co">#с английского на хирагану</span></span>
<span id="cb120-2"><a href="работа-со-строками.html#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stri_trans_general</span>(<span class="st">&quot;fanfic&quot;</span>, <span class="st">&quot;Latin-Hiragana&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;ふぁんふぃく&quot;</code></pre>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="работа-со-строками.html#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="co">#с английского на хангыль</span></span>
<span id="cb122-2"><a href="работа-со-строками.html#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="fu">stri_trans_general</span>(<span class="st">&quot;fanfic&quot;</span>, <span class="st">&quot;Latn-Hang&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;판핓&quot;</code></pre>
</div>
<div id="пакеты-для-работы-с-текстовыми-данными" class="section level2" number="2.7">
<h2><span class="header-section-number">2.7</span> Пакеты для работы с текстовыми данными</h2>
<p>-определение языка
-расстояние между строками
-stylo
-ner (extract names)</p>
</div>
<div id="задания" class="section level2" number="2.8">
<h2><span class="header-section-number">2.8</span> Задания</h2>
<p>Итак</p>
<p><img src="https://i.imgur.com/wfdQPVQ.jpg" /></p>
<p><strong>Задание 1</strong>
Представьте, что у вас есть оцифрованный текст (тот, что вы уже загрузили в my_file). Вам необходимо произвести его очистку, пока что теми средствами, что вы успели изучить. Этот текст - отрывок из книги Брайаня Кокса и Джеффа Форшоу “Что такое E=mc^2 и зачем нам это знать.” Текст на русском, почти не содержит формул(=ими можно пренебречь). в нем есть сноски и заголовки.</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="работа-со-строками.html#cb124-1" aria-hidden="true" tabindex="-1"></a>my_file</span></code></pre></div>
<pre><code>## [1] &quot;ПОМI N1% /;\r\nIII г2’»\r\nпо\tона может принимать разные\r\n„ труднее определить.\t„„ происходило, общее к„.\r\nЭнергию Р&gt; тоЧНо очевиден.\tаТЬСя неизменным не-\r\n,;.г,ои процессе\tэмми №тер дала нам\r\nзависимо от изменения других\tп&lt;)Т0Му, что законы физики\r\nглубокое объяснение. Энергия ^\tутверЖде„ие не означает, что\r\nис изменяются с течением прем\tосто бессмысленно. На самом\r\n„„чего не происходит - это Ьъ спрапедлипы сегодня, деле оно означает, что если уН»\tВы можете заменить ело-\r\nто „ни должны быть 2»™Л;В“ла,, любым другим фундаментальным\r\nвосочетание «уравнения Максвелл\tмер.\r\nзаконом физики-постулатами Эинште\tимпульса, закон со-\r\nВместе с тем, как и в случае закона сохранения . У ^\t„\r\nхранения энергии был открыт экспериментальным )\t•\r\nоткрытия восходит к промышленной революции. Все началось с раоо эксиериментаторов-практиков, которые обнаружили множество с. „„четких и химических явлений в поисках промышленного Иерусалима-К числу таких людей относился и несчастный граф Румфорд Баварский (рожденный под именем Бенджамин Томпсон в Массачусетсе в 1753 году I, работа которого состояла в высверливании каналов в пушечных стволах для армии герцога Баварии. В процессе работы он обратил внимание, что металл пушечного ствола и сверло нагреваются, и справедливо предположил, что вращательное движение сверла превращается в тепло под воздействием трения. Это прямо противоположно тому, что происходит в паровом двигателе, где тепло преобразуется во вращательное движение колес поезда. Казалось вполне естественным связать некую общую величину с теплом и вращательным движением, поскольку, как выяснилось эти две на первый взгляд совершенно разные вещи взаимозаменяемы Эта величина - энергия. Румфорда называли несчастным, потому что\r\nон женился на вдове другого великого ученого, Антуана Л тш,-\r\n’\t7 ,ав&gt;лзье, после\r\nтого как тот во время Французской революции сложил голову н » п\r\nтине. Румфорд ошибочно решил, что эта женщина будет делать дЛ},\r\nто же, что и для Лавуазье, прилежно записывая все результаты СГо *\&quot; °\r\nботы и повинуясь ему, как полагалось хорошей жене в XVIII ст,„1СПи Но оказалось, она проявляла кроткость только под давлением железног\r\nра-\r\nолетиц.\r\nпо\r\n«ЕМ*\r\nЖ*\r\n(. тс*7\r\nII\r\n, л..у&gt;»&#39;- в св°ей ммеЧаТе\&quot;ЬНОЙ книге 1 Ьс Оием Гог АЬзо1ц1с 2его-Мендельсон писал, что эта женщина превратила жизнь графа Ру„.\r\nВ1\r\nКУРТ\r\n„ „ яп Но главное не это, а то, что энергия всегда соуп™ ,\r\nхорда в ад-\t_\tг ^да сохраняется, имен-\r\n* п^тШу она вызывает такой интерес.\r\nяо ПОЭ 7\r\nПопросите кого-либо на улице объяснить, что такое энергия, -й получите либо осмысленный ответ, либо кучу всякого вздора в духе „ью-эйдж” В массовой культуре существует много разных значений слова «энергия», поскольку оно употребляется очень широко. Следует отметить, однако, что на самом деле есть точное определение энергии, которое нельзя использовать для объяснения лей-линий***, исцеления кристаллами, жизни после смерти или реинкарнации. Здравомыслящий человек мог бы сказать, что энергию можно хранить внутри аккумуляторной батареи, где она находится в состоянии ожидания до тех пор, пока кто-то не «замкнет цепь». Кто-то другой, возможно, возразит, что энергия — это показатель количества движения и что быстро движущиеся объекты обладают большей энергией, чем более медленные. Энергия, которую содержит море или ветер, — вот еще примеры определений. Вам могут также сказать, что горячие объекты содержат больше энергии, чем холодные. Гигантский маховик, который находится вн\\ три электростанции, может накапливать энергию, которая высвобожда ется затем в электросеть для удовлетворения потребностей населения в электроэнергии. Кроме того, энергия выделяется в процессе деления .томного ядра. Это только несколько примеров присутствия энергии в повседневной жизни. Во всех этих сяучаях физик,, могут представить\r\nгЬпоме и использовать эту информацию для энергию в количественной фор«\t^\t,ффеИ\r\nподведения\t“менным общее количество энергии,\r\nлюбого процесса сохран\r\n--------------- Мендельсон К. А. Г. На пути к абсолютному нулю: Вве-\r\n* ИЗДаНЗ «&#39;у низких температур. М.: Атомиздат. 1971. пение в физику ”\r\nм\t^\tокупности различных мистических течении и движе-\r\nОбщее название со УгноГО, эзотерического и синкретического характера.\r\nНИЙ. В ОСНОВНОМ окк&gt;\r\nПрим, ред-\t^ места на поверхности Земли, которым свойственно прояв-\r\n... Предположителен _ энеррии&gt;&gt; Прим авт_\r\nление\r\n112\r\nсохранения энергии в действу\r\n. . . .у-П 1\\|« 111\r\nДпя того чтобы увидеть закон сохр,,,.^...\r\nследпии раз вернемся к сталкивающимся билья &#39;\r\n-»\&quot;«й из них обладает определенной\t«ч-*\r\nтог\r\nв ПОС\r\nм\r\n:д.\r\nю№ 11\t«***•«*з........,«* ««у»\t««««^\r\n“;„Г«ое,о да»*&#39;»»\&quot;&#39; Некого языка слоя., «кинетический. ^\r\nили возникающий вследствие яви*..,,\r\nделястся как «обусло\r\n— * и\r\nтермин. Ранее мы исходили из того, что д„а 111а^ ____стью и имеют одинаковую массу. Затем &lt;*,\r\nтак что это правильный\t....\r\nс одинаковом скор0^ -^ ^ ^ с равной скоростью в проп\r\n— - -ал»* 11/ЭПЛ Г* ПТЧП !«!/&gt;.\r\nДВИЖУТСЯ С ОДИН» --- •\r\nсталкиваются и отскакивают И —■ ^ значите/1ЬНОЙ мере продиктова\r\nположных направлениях. .\tтщательный анализ ситуации па\r\n.законом сохранения импульса. Б««™*\tле\r\nзлоллет определить, что скорость движения шар\r\nнемного ...к. их скорости „о столкновения. Это объясняется темли\r\nчаек начальной энергии рассеялась во время столкновения. Наиболее\r\nочевидное рассеяние энергии — переход ее части в звук. Когда бильярд\r\nные шары сталкиваются друг с другом, они воздействуют на молек.\r\nвоздуха, и это возмущение достигает наших ушей. Таким образом, час:\r\nначальной энергии теряется, из-за чего у шаров после столкновения оста\r\nется меньше энергии. С точки зрения темы данной книги нам на само *\r\nделе не нужно знать, как измерить энергию во всех ее проявлениях, хот-\r\nфьрмул. кинетической энергии нал, „се же пригодится немного позже\r\nКаждый, кто изучал л средней школе физику, навсегда запомнил эту фор мулу, кинетическая энергия = в п\tД запомнил ЭТ\\ ^ г\r\nвыразить в количественной ф„р2„е одним чисдТмТ ЧТ° ЭНЧ&gt;\&quot;\&quot;“ лмчество энергии в системе всегда о г .\tТ“КЖе ЧТО ООЩсе\r\nА \&quot;\&quot;Ч\&quot;- вернемся к нашему разговор’\&quot; К&#39;иам*«\&quot;ЫМ.\r\n‘ \&quot; к&#39;1,4 1ве примера величины, котоиа\tЫ \&quot;Паи1 кониепцию импуль\r\nс гиер&#39;ией практическая польз. ймпу„ьёГ“й“*“*\&quot;* “ектоР°М Наряд)\r\n&#39;Управлении движения о *НИз&gt; на юго-ВОСТо 5 СЧетУ вектор им\r\nсклонность разделять \&quot;\&quot;\&quot; \&quot;Рц1ы«У1ЧУЮ глав! \&quot; &#39;\&quot;\&quot;Йом «РУ™ -Ипм-У«ныстрел^.Г:;;е^;Р»пст1........... лр^ «окаэшиГи.\r\n&#39; ““\&quot;“‘■«ы» четыре ЭТО«6лУжде-\r\nНапРпвле„„ях\r\nч\r\n\r\nЖЕ *\r\n\r\nII .4\r\nПГ1\r\nнства-времени, в противном случае мы так и не сможем соста-лГнламеИтальные уравнения с учетом теории Эйнштейна. Позволь-■Г^овторнтв еще раз: фундаментальные уравнения должны включать г* ,я объекты, существующие в пространстве-времени, а не объекты, * ествующие отдельно в пространстве или во времени, поскольку ь^ъекты такого типа носят субъективный характер. Если вы помните, [в*размер объекта в пространстве, ни промежуток времени между двумя мбытиями нельзя отнести к категории величин, со значением которых\r\nсогласятся все без исключения. Именно это мы имеем в виду, утверждая, что такие объекты носят субъективный характер. Импульс также представляет собой вектор, направленный куда-то только в пространстве. Такое предубеждение против времени сеет семена его разрушения. Предве щает ли пространство-время крушение этого самого фундаментального из всех законов физики? Вновь открытая структура пространства-времени действительно сеет семена разрушения, но она указывает нам так же дальнейший путь: нам необходимо найти инвариантную величину, которая сможет занять место устаревшего трехмерного импульса. А вот и ключевой момент нашего повествования: такая величина существует Давайте внимательнее взглянем на трехмерный вектор импульса. На рис. 11 он представлен в виде стрелки, которая может отображать рас стояние, на которое откатывается шар, перемещаясь по столу*. Если опи-\r\nсывать ситуацию точнее, то предположим, что в полдень шар находи гем\r\nУ одного конца этой стрелки, а через две секунды — у другого. Если шар перемещается на сантиметр каждую секунду, тогда длина стрелки равна Двум сантиметрам. Получить вектор импульса не составляет проблем Он представляет собой стрелку, указывающую абсолютно в том же на\r\nправлении, что и на рис. 11, но ее длина другая и равна скорости нашего Шара (в данном случае один сантиметр в секунду), умноженной на его массу, которая составляет, к примеру, десять граммов. Физики сказали бы, что вектор импульса этого шара имеет длину десять грамм сантиметров в секунду (в краткой форме они записали бы это гак: 10 I&#39; • см/с). Здесь снова целесообразно ввести абстрактные символы, вместо юго чтобы\r\n■ В выборе шара нет ничего особенного. Вместо него можно было бы выбрать любой другой объект.\r\n&quot;</code></pre>
<ol style="list-style-type: decimal">
<li>Имеет смысл разделить текст на параграфы по переносу строки <code>\n</code> <code>\r\n</code>. Это можно сделать с помощью <code>str_split()</code>. Не забудьте экранировать специальные символы!</li>
<li>Приведите все строки к нижнему регистру.</li>
<li>Необходимо избавиться от лишних табуляций <code>\t</code> и символов. Это текст на русском языке, нам же не нужны символы латинского алфавита? Лишние можно просто удалить или заменить на пробел.</li>
<li>Вы точно удалили все ненужные символы? Составьте сортированный список всех символов. Это можно сделать, временно склеив обратно в единый текст все параграфы. Потом с помощью <code>str_split()</code> разделить все знаки по пустой строке "“. У вас получится список, переделайте его в вектор! Из вектора можно составить таблицу частотности символов, а из нее вытащить список названий строк и отсортировать его. NB! Не удаляйте символ переноса строки”-", если хотите сделать п.6.<br />
</li>
<li>Проверьте длину строк. У вас есть пустые строки? Если есть, их можно удалить.
6*. Задание со звездочкой, выполнение опционально. Теперь надо разобраться с переносами строк, которые есть в печатных книгах, но нет в электронных текстах. Можно использовать цикл if: если предыдущая строка оканчивается на “-,” то создай новую строку, склеенную из предыдущей и этой. В противном случае, создай новую строку из предыдущей и этой, разделенную пробелом. Не забудьте обработать крайние значения (первая и последняя строки).</li>
</ol>
<p><strong>Задание 2</strong></p>
<p>Подготовим наши таблицы с фанфиками к обработке.</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="работа-со-строками.html#cb126-1" aria-hidden="true" tabindex="-1"></a>sample <span class="sc">%&gt;%</span> <span class="fu">print</span>()</span></code></pre></div>
<pre><code>## # A tibble: 1,000 x 10
##       X1 link   title   author_link  author  page fandom subtitle  text    likes
##    &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;   &lt;chr&gt;        &lt;chr&gt;  &lt;dbl&gt; &lt;chr&gt;  &lt;chr&gt;     &lt;chr&gt;   &lt;dbl&gt;
##  1     1 /read… Сгорая… /authors/17… Mrs. …    63 Неукр… Подкидыш  &quot;Осенн…    27
##  2     2 /read… Объять… /authors/10… Wales    131 Неукр… &lt;NA&gt;      &quot;На&lt;U+…   864
##  3     3 /read… Волосы… /authors/51… Night…     1 Неукр… Введение  &quot;Миг з…    47
##  4     4 /read… Провер… /authors/38… Cold-…    52 Неукр… Семья     &quot;На ут…   260
##  5     5 /read… Поменя… /authors/57… Aiky       4 Неукр… Глава 9 … &quot;r / A…   282
##  6     6 /read… Пепел … /authors/39… Sh.R      79 Неукр… Вместо э… &quot;— Так…   213
##  7     7 /read… Собств… /authors/14… Aquam…    86 Неукр… Глава 15… &quot;Когда…   587
##  8     8 /read… И тёмн… /authors/45… Notyo…    96 Неукр… &lt;NA&gt;      &quot;Что е…    29
##  9     9 /read… Я буду… /authors/54… Trish…    20 Неукр… Часть 72  &quot;Сичен…   357
## 10    10 /read… Мальчи… /authors/19… Lorie     33 Неукр… Гарри По… &quot;Планы…  3141
## # … with 990 more rows</code></pre>
<ol style="list-style-type: decimal">
<li>Посмотрите на столбец authors_link. Нам же не нужен рудимент " /authors/", оставшийся после скрэппинга? Удалите его.</li>
<li>ID автора гораздо легче использовать, чем его полный никнейм. Но у нас разное количество символов в ID. Нужно привести их к общей схеме, расширив строку до максимальной длины с помощью нулей, которые нужно вставить в начало строки.</li>
<li>Аналогичные манипуляции предлагаю проделать с ID работы из графы “link”
4*. Задание со звездочкой, выполнение опционально. Посмотрите на графу subtitle. Очевидно, у нас скачались отдельные главы фанфиков как отдельные фанфики. Нехорошо. Но! У нас также есть сборники фичков, которые и должны рассматриваться как отдельные фанфики (см. п. 13). Чем они отличаются? Наверное, наличием символов <code>"/"</code>, <code>"\"</code> или <code>"|"</code> в графе subtitle. Попробуйте соединить те тексты фичков, у которых совпадает ID и отсутствуют вышеперечисленные символы в названии. Количество лайков и страниц указывается для всего фанфика, а не для каждой главы, так что их можете не трогать.</li>
</ol>
</div>
<div id="sources" class="section level2" number="2.9">
<h2><span class="header-section-number">2.9</span> Sources</h2>
<p><a href="https://www.gastonsanchez.com/Handling_and_Processing_Strings_in_R.pdf" class="uri">https://www.gastonsanchez.com/Handling_and_Processing_Strings_in_R.pdf</a>
<a href="https://agricolamz.github.io/DS_for_DH/" class="uri">https://agricolamz.github.io/DS_for_DH/</a></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="strings2.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/agricolamz/2021.02.21-23_icedone/edit/master/01-strings.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
},
"self_contained": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
